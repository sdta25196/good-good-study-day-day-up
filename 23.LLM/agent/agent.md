## Agent

为什么用agent

* agent 可以一定程度上减少大模型的幻觉问题
* 处理实时信息
* 具备决策能力
* 有记忆、有计划、有工具、有行动能力

## 大模型生成可执行代码

1. 可以用大模型直接生成可运行代码，然后再运行这段代码。 生成代码需要注意把参数、路径、文件资料等信息全部给到大模型。

```md
你的任务是撰写一段可直接运行的python代码，要求如下：
1、python代码是要根据一个地理位置的经纬度坐标，计算每一个站点的经纬度坐标和该经纬度坐标之间的距离，并筛选出距离在3公里范围内的站点

2、中心位置的地理位置经纬度坐标为{{Latitude}}, {{Longitude}}

3、所有站点的信息都在excel文件"sites_geocoded.xlsx"内，访问链接为：https://p16-bot-sign-sg.ciciai.com/tos-alisg-i-b2l6bve69y-sg/88c0c5a75fcd467c8a80632d6c51644e.xlsx~tplv-b2l6bve69y-image.image?rk3s=68e6b6b5&x-expires=1733667338&x-signature=%2FEXp29DsFzlrfjrGyRovVx1BCQA%3D，文件内容格式如下：
City	District	Site	Address	Latitude	Longitude
北京市	朝阳区	西咸新区新威沃【北京】大望路站	北京市朝阳区金台北街5号楼	39.92236	116.472027
北京市	朝阳区	西咸新区新威沃【北京】欢乐谷站	北京市朝阳区翠城盛园144号楼	39.857302	116.509996
北京市	朝阳区	西咸新区新威沃【北京】双桥站	北京市朝阳区远洋一方6号院9号楼	39.902055	116.593381
北京市	朝阳区	西咸新区新威沃【北京】石佛营站	北京市朝阳区慈云寺北里105号楼	39.919081	116.495865
北京市	朝阳区	西咸新区新威沃【北京】国贸站	北京市朝阳区呼家楼街道新苑2号楼	40.003561	116.474288

4、文件路径为："/mnt/data/{{file_name}}"

5、你可以使用的库只包括：Pandas, re, math, datetime, openpyxl，确保你的代码只使用这些库，否则你的代码将无法运行

6、输出纯python代码，不要markdonw的任何格式，代码前后不要添加""```python"

7、只输出可执行的python代码，其他任何内容都不要输出
```

2. 运行生成的代码时，需要把相关资源准备好，放到对应的位置


## 利用知识库改变大模型的对话风格

知识库拆分成一问一答的形式，让大模型保持知识库答案的文风。这样答案部分的风格将会影响到大模型的对话风格。

配合上system prompt的使用，效果加倍。

## 解决用户一次问多个问题的场景

把知识库中多个匹配到的问题全部放到提示词中。让大模型润色回复

## 上下文的处理

不建议单独写提示词处理上下文，而是直接使用大模型的上下文理解能力。

不建议：
- 使用提示词处理上下文，得到真正意图随后去匹配工具。
> 会出现理解错误。同时耗时不稳定。

建议：
- 直接使用大模型的能力，同时告诉大模型有哪些工具可以用，让大模型直接返回使用工具。 
> 会出现工具还用错误的情况。好处是省去了提示词上下文所需要的时间消耗，坏处是tokens消耗较大

## 特定的节点使用工作流

工作流是可以编写成公共的，在特定的节点使用


## RAG处理文件中的图片

1. GPT-4o给图片写一段描述文字
2. 把这段文字生成向量，加入向量数据库
3. 这段文字被检索到后，取出原图片
4. 把原图 + 提示词 扔给多模态模型。

## function call 追问

function calling + work flow，来实现工具调用中途追问，并且不丢失工具使用场景。

function calling 在系统提示词中添加我都可以用哪些工具。

## COT

使用COT来提升大模型的基础能力

## 添加纠错、打分、验证的逻辑

在agent的流程中添加纠错、打分、验证的逻辑。来提升响应准确度

## workflow

纯提示词的任务执行不稳定，这时候可以考虑加入工作流来提升稳定度。


# 骑手招聘

提示词

```md
# 角色
1. 你叫小阿，是一名专业的外卖员招聘助手，负责为美团和饿了么等平台招聘外卖员。外卖员，也常被称为骑手、配送员、外卖小哥；
2. 你与用户说话时，要尽量以积极的口吻回复，亲切，友好，俏皮。请使用口语化说法回答问题。多以语气词结尾，尽量不反问用户问题；
3. 向用户介绍站点时，只说站点名，不要提及公司（集团）名：
   站点命名格式一般为：公司名【城市】站点名，如：西部餐饮集团【北京】三里屯站。
   你向用户介绍说“三里屯”站即可。如果有多个站点同名（公司名不同），可以用“在三里屯有两个站”这种说法

## 技能
### 技能 1：回答与招聘相关问题
用户提出与工作内容、待遇、食宿、车辆、工装工具、面试、入职要求等有关的问题，你需要先查资料 骑手重点招聘信息2 再回答

### 技能 2：回答某个区域的站点信息
用户问到某个区域的站点信息时，要启动 工作流Recruit_Chao ，将需要检索的地点名称解析出来，作为参数传递给工作流，工作流会检索出某个地点附近的站点，从这些站点中选一个距离最近的向用户推荐，引导用户明天就可以面试，直接发该站点的地址给用户，并告知用户，加微信，帮他确认准确面试时间


## 限制：
- 你只招聘外卖员这一种岗位，如果候选人询问其它类型的职位，请引导他考虑现有的招聘职位；
- 下文对话中，提到“车”都指“电动车”；
- 用户询问薪资时，统一回复平均在8000-12000之间，多劳多得；
- 用户质疑我们公司有任何违法行为时，请先查阅资料，再以相关话术与角度回复；
- 你提供的任何信息都必须来自对话上下文，不要生成任何未包含在上下文中的信息；
- 你永远不要说“XXX【北京】三里屯站”或者“XXX的三里屯站”或者“XXX三里屯站”这种格式。这是**严格禁止的**！！！
- 记住，永远只说“三里屯站”、“国贸站”、“工体站”这种表达形式。
- 用户如果问我们是否是中介，告诉他我们是公司站点直招，不是中介。
- 如果用户询问高客单价的商圈，推荐“国贸”商圈
```

# 电商零售行业

啊SD团队的人 去做的flux，flux是非常好的文生图模型

-----------------------
FancyTech 做出的产品用到了60多个模型。
1. 首先需要生成图片
huggingface 平台：

删除背景的模型
background removal

快手处理图片的模型
kolors virtual try-on in the wild

打标签的模型，【长对长，短对短，有标签才好做自动化】
Qwen2-VL

更换模型背景
BRIA background Generation

【需要对背景打标签，光影融合很重要，服装和场景很重要， 背景和模特的关联关系，需要有大量数据测试】

2. 然后图片生成视频

图片生成视频的方案：

套视频模版，人物跟着视频动，用照片 + 模版视频
MimicMotion

人物和背景一起微微动，起始帧+结束帧，堆分镜

3. 长视频、营销内容生成

识别视频的关键帧，通过关键帧来识别不同的场景，
通过常见切分段落，来缩短需要处理的长度。
再加上标签信息，就可以进行混剪
用脚本 + prompt，就可以确定最终生成的效果 
再加上文字、音频、配乐等


**上述模型地址**


1. 生图（用于生成更多模特）：https://huggingface.co/spaces/black-forest-labs/FLUX.1-dev
2. 给生成的模特换上不同款式的衣服：https://huggingface.co/spaces/black-forest-labs/FLUX.1-Fill-dev
3. 去背景：https://huggingface.co/spaces/not-lain/background-removal
4. 衣服上模特：https://huggingface.co/spaces/Kwai-Kolors/Kolors-Virtual-Try-On
5. 给图片写文字描述打标签：https://huggingface.co/spaces/Qwen/Qwen2-VL
6. 给图片生成新背景：https://huggingface.co/spaces/briaai/BRIA-Background-Generation
7. 图片跟着视频动：https://huggingface.co/spaces/fffiloni/MimicMotion
8. 人和背景一起微微动：https://huggingface.co/spaces/wangfuyun/AnimateLCM-SVD
9. 起始帧、结束帧：https://huggingface.co/spaces/fffiloni/svd_keyframe_interpolation



# 用户互动方向

1. 导购助手-参考dayDream

通过用户输入自然语言，然后给出相关推荐、搭配等。
1、用自然语言搜索
2、导购助手随时都在，用户的每一步操作都在记录及预测
3、随时可以互动，甚至主动互动，形态尽量区别于客服窗口
4、不仅要预测感兴趣的商品，更要预测用户可能需要什么
5、反复强调的重点:收集数据

2. 直播助手
 
帮助主播控制直播间, 有autoGLM、web VQA等技术可以协作实现



# 教育行业




