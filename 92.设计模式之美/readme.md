# 优秀代码的标准

## 可维护性

所谓的“维护”无外乎就是修改 bug、修改老的代码、添加新的代码之类的工作。

所谓“代码易维护”就是指，在不破坏原有代码设计、不引入新的 bug 的情况下，能够快速地修改或者添加代码。

## 可读性

代码的可读性在非常大程度上会影响代码的可维护性。

毕竟，不管是修改 bug，还是修改添加功能代码，我们首先要做的事情就是读懂代码。代码读不大懂，就很有可能因为考虑不周全，而引入新的 bug。

> 代码是否符合编码规范、命名是否达意、注释是否详尽、函数是否长短合适、模块划分是否清晰、是否符合高内聚低耦合等等。

## 可扩展性

开闭原则：“对修改关闭，对扩展开放”

我们的代码需要有应对未来需求变化的能力，但又不能过度设计，设计出一些未来完全不会被使用到的功能点。

代码的可扩展性表示，我们在不修改或少量修改原有代码的情况下，通过扩展的方式添加新的功能代码。

## 简洁性

KISS 原则：“Keep It Simple，Stupid”

尽量保持代码简单。代码简单、逻辑清晰，也就意味着易读、易维护。

## 可复用性 （Code Reusability）

DRY（Don’t Repeat Yourself）

DRY中的重复，通常分为逻辑重复、语义重复、代码执行重复，其中要注意的是逻辑重复在语义不重复的情况下，并不能算是违背DRY原则

## 可测试性

算了吧，我们是特色社会主义。

## 你不会需要它

YAGNI ：You Ain’t Gonna Need It。 说人话就是不要设计过度

## 最小知识原则

LOD ：Law of Demeter 迪米特法则 - 最小知识原则

## SOLID 原则 

* SOLID 原则 -SRP 单一职责原则
* SOLID 原则 -OCP 开闭原则
* SOLID 原则 -LSP 里式替换原则
* SOLID 原则 -ISP 接口隔离原则
* SOLID 原则 -DIP 依赖倒置原则

> 优秀的代码千篇一律，垃圾代码花样百出。


## 思从深而行从简

kiss 不是让程序代码里更少或者使用更简单的编程方式，而是让程序的实现使用最优解的情况下保持最简单。 
dry 不是不让重复代码，而是SPOT（Single Point of Truth），在修改时只修改一处代码
yagin 不是简单的不要过度设计，而是要思考过后保留程序扩展点，同时不要编写不需要的代码

**总之，思从深，行从简。**

## 设计模式种类

1. 创建型

常用的有：单例模式、工厂模式（工厂方法和抽象工厂）、建造者模式。

不常用的有：原型模式。
2. 结构型

常用的有：代理模式、桥接模式、装饰者模式、适配器模式。

不常用的有：门面模式、组合模式、享元模式。
3. 行为型

常用的有：观察者模式、模板模式、策略模式、职责链模式、迭代器模式、状态模式。

不常用的有：访问者模式、备忘录模式、命令模式、解释器模式、中介模式。

# 面向对象

## 封装

封装特性。封装也叫作信息隐藏或者数据访问保护。

封装业务逻辑，可以让开发人员减少对业务细节了解的必要性，封装的越好，开发人员接触的业务就越少

封装修改逻辑，也就是访问权限控制，利用私有属性、方法，来保护数据，对外仅提供使用接口即可

## 抽象

封装主要讲的是如何隐藏信息、保护数据，而抽象讲的是如何隐藏方法的具体实现，让调用者只需要关心方法提供了哪些功能，并不需要知道这些功能是如何实现的。

抽象解决产品需求变更的问题，我们是基于抽象接口进行的编程。例如某一天如果我们不再把图片存储在阿里云上，而是存储在私有云上。我们是不需要关心代码的具体实现的。

提高代码的可扩展性、维护性，修改实现不需要改变定义，减少代码的改动范围；

## 继承

继承是用来表示类之间的is-a 关系，继承可以分为两种模式，单继承和多继承。单继承表示一个子类只继承一个父类，多继承表示一个子类可以继承多个父类，比如猫既是哺乳动物，又是爬行动物

继承最大的一个好处就是代码复用，假如两个类有一些相同的属性和方法，我们就可以将这些相同的部分，抽取到父类中，让两个子类继承父类。

过度使用继承，继承层次过深过复杂，就会导致代码可读性、可维护性变差。为了了解一个类的功能，我们不仅需要查看这个类的代码，还需要按照继承关系一层一层地往上查看“父类、父类的父类……”的代码

所以目前推崇**组合大于继承**的概念，使用组合可以解耦代码

## 多态

多态是指，子类可以替换父类，在实际的代码运行过程中，调用子类的方法实现。

多态可以提高代码的扩展性和复用性，是很多设计模式、设计原则、编程技巧的代码实现基础。

## 面向对象与面向过程的区别


面向对象更适合大规模的、复杂度高的程序

> 面向对象编程范式需要建模、需要梳理类之间的关系，代码量会更多

面向对象代码更易复用、易扩展、易维护


面向过程编程是一种非常简单的编程风格，并没有像面向对象编程那样提供丰富的特性。而面向对象编程提供的封装、抽象、继承、多态这些特性，能极大地满足复杂的编程需求，能方便我们写出更易复用、易扩展、易维护的代码。


面向对象语言更加人性化、更加高级、更加智能

面向过程开发更简单，上手更快，而且面向过程编程可以说是其他编程范式的基础。任何编程范式中，都能看到面向过程的影子。

## 面向接口编程，而非实现

## 多用组合，少用继承

1. 为什么不推荐使用继承？
继承是面向对象的四大特性之一，用来表示类之间的 is-a 关系，可以解决代码复用的问题。虽然继承有诸多作用，但继承层次过深、过复杂，也会影响到代码的可维护性。在这种情况下，我们应该尽量少用，甚至不用继承。

2. 组合相比继承有哪些优势？
继承主要有三个作用：表示 is-a 关系，支持多态特性，代码复用。而这三个作用都可以通过组合、接口、委托三个技术手段来达成。除此之外，利用组合还能解决层次过深、过复杂的继承关系影响代码可维护性的问题。

3. 如何判断该用组合还是继承？
尽管我们鼓励多用组合少用继承，但组合也并不是完美的，继承也并非一无是处。在实际的项目开发中，我们还是要根据具体的情况，来选择该用继承还是组合。如果类之间的继承结构稳定，层次比较浅，关系不复杂，我们就可以大胆地使用继承。反之，我们就尽量使用组合来替代继承。除此之外，还有一些设计模式、特殊的应用场景，会固定使用继承或者组合

## 贫血模式

MVC 三层架构中的 M 表示 Model，V 表示 View，C 表示 Controller。它将整个项目分为三层：展示层、逻辑层、数据层。

MVC 三层开发架构是一个比较笼统的分层方式，落实到具体的开发层面，很多项目也并不会 100% 遵从 MVC 固定的分层方式，而是会根据具体的项目需求，做适当的调整。



## 抽象

函数命名也要抽象，getBaiduMap 和 getMap 后者抽象程度更高，适用的场景也更多

# 原型模式
## 创建对象的开销成本

所谓创建对象的开销成本大，并不是因为申请内存，成员变量赋值这些开销。而是对象中的数据可能是经过复杂的计算、或者从网络、文件中读取的。
此时我们可以利用原型模式把原来的数据复制过来。

