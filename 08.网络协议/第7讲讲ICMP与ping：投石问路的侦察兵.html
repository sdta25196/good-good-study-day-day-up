<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
          content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,viewport-fit=cover">
    <meta name="format-detection" content="telephone=no">
    <style type="text/css">

#watermark {

  position: relative;
  overflow: hidden;
}

#watermark .x {
  position: absolute;
  top: 800;
  left: 400;
  color: #3300ff;
  font-size: 50px;
  pointer-events: none;
  opacity:0.5;
  filter:Alpha(opacity=50);
  -webkit-transform: rotate(45deg);
  -moz-transform: rotate(45deg);
}
    </style>


    <style type="text/css">
 html{color:#333;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;text-rendering:optimizelegibility;font-family:Helvetica Neue,PingFang SC,Verdana,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,sans-serif}html.borderbox *,html.borderbox :after,html.borderbox :before{box-sizing:border-box}article,aside,blockquote,body,button,code,dd,details,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hr,input,legend,li,menu,nav,ol,p,pre,section,td,textarea,th,ul{margin:0;padding:0}article,aside,details,figcaption,figure,footer,header,menu,nav,section{display:block}audio,canvas,video{display:inline-block}body,button,input,select,textarea{font:300 1em/1.8 PingFang SC,Lantinghei SC,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,Helvetica,sans-serif}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}table{border-collapse:collapse;border-spacing:0}fieldset,img{border:0}blockquote{position:relative;color:#999;font-weight:400;border-left:1px solid #1abc9c;padding-left:1em;margin:1em 3em 1em 2em}@media only screen and (max-width:640px){blockquote{margin:1em 0}}abbr,acronym{border-bottom:1px dotted;font-variant:normal}abbr{cursor:help}del{text-decoration:line-through}address,caption,cite,code,dfn,em,th,var{font-style:normal;font-weight:400}ol,ul{list-style:none}caption,th{text-align:left}q:after,q:before{content:""}sub,sup{font-size:75%;line-height:0;position:relative}:root sub,:root sup{vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}a{color:#1abc9c}a:hover{text-decoration:underline}.typo a{border-bottom:1px solid #1abc9c}.typo a:hover{border-bottom-color:#555;color:#555}.typo a:hover,a,ins{text-decoration:none}.typo-u,u{text-decoration:underline}mark{background:#fffdd1;border-bottom:1px solid #ffedce;padding:2px;margin:0 5px}code,pre,pre tt{font-family:Courier,Courier New,monospace}pre{background:hsla(0,0%,97%,.7);border:1px solid #ddd;padding:1em 1.5em;display:block;-webkit-overflow-scrolling:touch}hr{border:none;border-bottom:1px solid #cfcfcf;margin-bottom:.8em;height:10px}.typo-small,figcaption,small{font-size:.9em;color:#888}b,strong{font-weight:700;color:#000}[draggable]{cursor:move}.clearfix:after,.clearfix:before{content:"";display:table}.clearfix:after{clear:both}.clearfix{zoom:1}.textwrap,.textwrap td,.textwrap th{word-wrap:break-word;word-break:break-all}.textwrap-table{table-layout:fixed}.serif{font-family:Palatino,Optima,Georgia,serif}.typo-dl,.typo-form,.typo-hr,.typo-ol,.typo-p,.typo-pre,.typo-table,.typo-ul,.typo dl,.typo form,.typo hr,.typo ol,.typo p,.typo pre,.typo table,.typo ul,blockquote{margin-bottom:1rem}h1,h2,h3,h4,h5,h6{font-family:PingFang SC,Helvetica Neue,Verdana,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,sans-serif;color:#000;line-height:1.35}.typo-h1,.typo-h2,.typo-h3,.typo-h4,.typo-h5,.typo-h6,.typo h1,.typo h2,.typo h3,.typo h4,.typo h5,.typo h6{margin-top:1.2em;margin-bottom:.6em;line-height:1.35}.typo-h1,.typo h1{font-size:2em}.typo-h2,.typo h2{font-size:1.8em}.typo-h3,.typo h3{font-size:1.6em}.typo-h4,.typo h4{font-size:1.4em}.typo-h5,.typo-h6,.typo h5,.typo h6{font-size:1.2em}.typo-ul,.typo ul{margin-left:1.3em;list-style:disc}.typo-ol,.typo ol{list-style:decimal;margin-left:1.9em}.typo-ol ol,.typo-ol ul,.typo-ul ol,.typo-ul ul,.typo li ol,.typo li ul{margin-bottom:.8em;margin-left:2em}.typo-ol ul,.typo-ul ul,.typo li ul{list-style:circle}.typo-table td,.typo-table th,.typo table caption,.typo table td,.typo table th{border:1px solid #ddd;padding:.5em 1em;color:#666}.typo-table th,.typo table th{background:#fbfbfb}.typo-table thead th,.typo table thead th{background:hsla(0,0%,95%,.7)}.typo table caption{border-bottom:none}.typo-input,.typo-textarea{-webkit-appearance:none;border-radius:0}.typo-em,.typo em,caption,legend{color:#000;font-weight:inherit}.typo-em{position:relative}.typo-em:after{position:absolute;top:.65em;left:0;width:100%;overflow:hidden;white-space:nowrap;content:"\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB"}.typo img{max-width:100%}.common-content{font-weight:400;color:#353535;line-height:1.75rem;white-space:normal;word-break:normal;font-size:1rem}.common-content img{display:block;max-width:100%;background-color:#eee}.common-content audio,.common-content video{width:100%;background-color:#eee}.common-content center,.common-content font{margin-top:1rem;display:inline-block}.common-content center{width:100%}.common-content pre{margin-top:1rem;padding-left:0;padding-right:0;position:relative;overflow:hidden}.common-content pre code{font-size:.8rem;font-family:Consolas,Liberation Mono,Menlo,monospace,Courier;display:block;width:100%;box-sizing:border-box;padding-left:1rem;padding-right:1rem;overflow-x:auto}.common-content hr{border:none;margin-top:1.5rem;margin-bottom:1.5rem;border-top:1px solid #f5f5f5;height:1px;background:none}.common-content b,.common-content h1,.common-content h2,.common-content h3,.common-content h4,.common-content h5,.common-content strong{font-weight:700}.common-content h1,.common-content h2{font-size:1.125rem;margin-bottom:.45rem}.common-content h3,.common-content h4,.common-content h5{font-size:1rem;margin-bottom:.45rem}.common-content p{font-weight:400;color:#353535;margin-top:.15rem}.common-content .orange{color:#ff5a05}.common-content .reference{font-size:1rem;color:#888}.custom-rich-content h1{margin-top:0;font-weight:400;font-size:15.25px;border-bottom:1px solid #eee;line-height:2.8}.custom-rich-content li,.custom-rich-content p{font-size:14px;color:#888;line-height:1.6}table.hljs-ln{margin-bottom:0;border-spacing:0;border-collapse:collapse}table.hljs-ln,table.hljs-ln tbody,table.hljs-ln td,table.hljs-ln tr{box-sizing:border-box}table.hljs-ln td{padding:0;border:0}table.hljs-ln td.hljs-ln-numbers{min-width:15px;color:rgba(27,31,35,.3);text-align:right;white-space:nowrap;cursor:pointer;user-select:none}table.hljs-ln td.hljs-ln-code,table.hljs-ln td.hljs-ln-numbers{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px;line-height:20px;vertical-align:top}table.hljs-ln td.hljs-ln-code{position:relative;padding-right:10px;padding-left:10px;overflow:visible;color:#24292e;word-wrap:normal;white-space:pre}video::-webkit-media-controls{overflow:hidden!important}video::-webkit-media-controls-enclosure{width:calc(100% + 32px);margin-left:auto}.button-cancel{color:#888;border:1px solid #888;border-radius:3px;margin-right:12px}.button-cancel,.button-primary{-ms-flex-positive:1;flex-grow:1;height:35px;display:inline-block;font-size:15px;text-align:center;line-height:36px}.button-primary{color:#fff;background-color:#ff5a05;border-radius:3px}@font-face{font-family:iconfont;src:url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.eot);src:url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.woff) format("woff"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.ttf) format("truetype"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.svg#iconfont) format("svg")}@font-face{font-family:player-font;src:url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.eot);src:url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.woff) format("woff"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.ttf) format("truetype"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.svg#player-font) format("svg")}.iconfont{font-family:iconfont!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-webkit-text-stroke-width:.2px;-moz-osx-font-smoothing:grayscale}html{background:#fff;min-height:100%;-webkit-tap-highlight-color:rgba(0,0,0,0)}body{width:100%}body.fixed{overflow:hidden;position:fixed;width:100vw;height:100vh}i{font-style:normal}a{word-wrap:break-word;-webkit-tap-highlight-color:rgba(0,0,0,0)}a:hover{text-decoration:none}.fade-enter-active,.fade-leave-active{transition:opacity .3s}.fade-enter,.fade-leave-to{opacity:0}.MathJax,.MathJax_CHTML,.MathJax_MathContainer,.MathJax_MathML,.MathJax_PHTML,.MathJax_PlainSource,.MathJax_SVG{outline:0}.ios-app-switch .js-audit{display:none}._loading_wrap_{position:fixed;width:100vw;height:100vh;top:50%;left:50%;transform:translate(-50%,-50%);z-index:999}._loading_div_class_,._loading_wrap_{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}._loading_div_class_{word-wrap:break-word;padding:.5rem .75rem;text-align:center;z-index:9999;font-size:.6rem;max-width:60%;color:#fff;border-radius:.25rem;-ms-flex-direction:column;flex-direction:column}._loading_div_class_ .message{color:#353535;font-size:16px;line-height:3}.spinner{animation:circle-rotator 1.4s linear infinite}.spinner *{line-height:0;box-sizing:border-box}@keyframes circle-rotator{0%{transform:rotate(0deg)}to{transform:rotate(270deg)}}.path{stroke-dasharray:187;stroke-dashoffset:0;transform-origin:center;animation:circle-dash 1.4s ease-in-out infinite,circle-colors 5.6s ease-in-out infinite}@keyframes circle-colors{0%{stroke:#ff5a05}to{stroke:#ff5a05}}@keyframes circle-dash{0%{stroke-dashoffset:187}50%{stroke-dashoffset:46.75;transform:rotate(135deg)}to{stroke-dashoffset:187;transform:rotate(450deg)}}.confirm-box-wrapper,.confirm-box-wrapper .mask{position:absolute;top:0;left:0;right:0;bottom:0}.confirm-box-wrapper .mask{background:rgba(0,0,0,.6)}.confirm-box-wrapper .confirm-box{position:fixed;top:50%;left:50%;width:267px;background:#fff;transform:translate(-50%,-50%);border-radius:7px}.confirm-box-wrapper .confirm-box .head{margin:0 18px;font-size:18px;text-align:center;line-height:65px;border-bottom:1px solid #d9d9d9}.confirm-box-wrapper .confirm-box .body{padding:18px;padding-bottom:0;color:#353535;font-size:12.5px;max-height:150px;overflow:auto}.confirm-box-wrapper .confirm-box .foot{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;padding:18px}.confirm-box-wrapper .confirm-box .foot .button-cancel{border:1px solid #d9d9d9}.hljs{display:block;overflow-x:auto;padding:.5em;color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}




    </style>
    <style type="text/css">
        .button-cancel[data-v-87ffcada]{color:#888;border:1px solid #888;border-radius:3px;margin-right:12px}.button-cancel[data-v-87ffcada],.button-primary[data-v-87ffcada]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;height:35px;display:inline-block;font-size:15px;text-align:center;line-height:36px}.button-primary[data-v-87ffcada]{color:#fff;background-color:#ff5a05;border-radius:3px}.pd[data-v-87ffcada]{padding-left:1.375rem;padding-right:1.375rem}.article[data-v-87ffcada]{max-width:70rem;margin:0 auto}.article .article-unavailable[data-v-87ffcada]{color:#fa8919;font-size:15px;font-weight:600;line-height:24px;border-radius:5px;padding:12px;background-color:#f6f7fb;margin-top:20px}.article .article-unavailable .iconfont[data-v-87ffcada]{font-size:12px}.article .main[data-v-87ffcada]{padding:1.25rem 0;margin-bottom:52px}.article-title[data-v-87ffcada]{color:#353535;font-weight:400;line-height:1.65rem;font-size:1.34375rem}.article-info[data-v-87ffcada]{color:#888;font-size:.9375rem;margin-top:1.0625rem}.article-content[data-v-87ffcada]{margin-top:1.0625rem}.article-content.android video[data-v-87ffcada]::-webkit-media-controls-fullscreen-button{display:none}.copyright[data-v-87ffcada]{color:#b2b2b2;padding-bottom:20px;margin-top:20px;font-size:13px}.audio-player[data-v-87ffcada]{width:100%;margin:20px 0}.to-comment[data-v-87ffcada]{overflow:hidden;padding-top:10px;margin-bottom:-30px}.to-comment a.button-primary[data-v-87ffcada]{float:right;height:20px;font-size:12px;line-height:20px;padding:4px 8px;cursor:pointer}.article-comments[data-v-87ffcada]{margin-top:2rem}.article-comments h2[data-v-87ffcada]{text-align:center;color:#888;position:relative;z-index:1;margin-bottom:1rem}.article-comments h2[data-v-87ffcada]:before{border-top:1px dotted #888;content:"";position:absolute;top:56%;left:0;width:100%;z-index:-1}.article-comments h2 span[data-v-87ffcada]{font-size:15.25px;font-weight:400;padding:0 1rem;background:#fff;display:inline-block}.article-sub-bottom[data-v-87ffcada]{z-index:10;cursor:pointer}.switch-btns[data-v-87ffcada]{height:76px;cursor:pointer;padding-top:24px;padding-bottom:24px;border-bottom:10px solid #f6f7fb;position:relative}.switch-btns[data-v-87ffcada]:before{content:" ";height:1px;background:#e8e8e8;position:absolute;top:0;left:0;-webkit-box-sizing:border-box;box-sizing:border-box;left:1.375rem;right:1.375rem}.switch-btns .btn[data-v-87ffcada]{height:38px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.switch-btns .btn .tag[data-v-87ffcada]{-webkit-box-flex:0;-ms-flex:0 0 62px;flex:0 0 62px;text-align:center;color:#888;font-size:14px;border-radius:10px;height:22px;line-height:22px;background:#f6f7fb;font-weight:400}.switch-btns .btn .txt[data-v-87ffcada]{margin-left:10px;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;color:#888;font-size:15px;height:22px;line-height:22px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:400}@media (max-width:769px){.article .breadcrumb[data-v-87ffcada]{padding-top:10px;padding-bottom:10px}}





    </style>

    <style type="text/css">
        .comment-item{list-style-position:inside;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;margin-bottom:1rem}.comment-item a{border-bottom:none}.comment-item .avatar{width:2.625rem;height:2.625rem;-ms-flex-negative:0;flex-shrink:0;border-radius:50%}.comment-item .info{margin-left:.5rem;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.comment-item .info .hd{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.comment-item .info .hd .username{color:#888;font-size:15.25px;font-weight:400;line-height:1.2}.comment-item .info .hd .control{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.comment-item .info .hd .control .btn-share{color:#888;font-size:.75rem;margin-right:1rem}.comment-item .info .hd .control .btn-praise{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:15.25px;text-decoration:none}.comment-item .info .hd .control .btn-praise i{color:#888;display:inline-block;font-size:.75rem;margin-right:.3rem;margin-top:-.01rem}.comment-item .info .hd .control .btn-praise i.on,.comment-item .info .hd .control .btn-praise span{color:#ff5a05}.comment-item .info .bd{color:#353535;font-size:15.25px;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6}.comment-item .info .time{color:#888;font-size:9px;line-height:1}.comment-item .info .reply .reply-hd{font-size:15.25px}.comment-item .info .reply .reply-hd span{margin-left:-12px;color:#888;font-weight:400}.comment-item .info .reply .reply-hd i{color:#ff5a05;font-size:15.25px}.comment-item .info .reply .reply-content{color:#353535;font-size:15.25px;font-weight:400;white-space:normal;word-break:break-all}.comment-item .info .reply .reply-time{color:#888;font-size:9px}




    </style>
</head>
<body>
<div id="app">


    <div data-v-87ffcada="" class="article" id="watermark">
        <p class="x">æ‰€æœ‰æœ€æ–°æå®¢æ—¶é—´è¯¾ç¨‹è¯·åŠ QQç¾¤170701297</p>
        <div data-v-87ffcada="" class="main main-app">
            <h1 data-v-87ffcada="" class="article-title pd">
                ç¬¬7è®²è®²ICMPä¸pingï¼šæŠ•çŸ³é—®è·¯çš„ä¾¦å¯Ÿå…µ
            </h1>
            <div data-v-87ffcada="" class="article-content typo common-content pd"><img data-v-87ffcada=""
                                                                                        src="https://static001.geekbang.org/resource/image/9c/9c/9ccec7f6265d778a9973afa25db7ee9c.jpg">


                <div data-v-87ffcada="" id="article-content" class="">
                    <div class="text">
                        <p>æ— è®ºæ˜¯åœ¨å®¿èˆï¼Œè¿˜æ˜¯åœ¨åŠå…¬å®¤ï¼Œæˆ–è€…è¿ç»´ä¸€ä¸ªæ•°æ®ä¸­å¿ƒï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šé‡åˆ°ç½‘ç»œä¸é€šçš„é—®é¢˜ã€‚é‚£å°æœºå™¨æ˜æ˜å°±åœ¨é‚£é‡Œï¼Œä½ ç”šè‡³éƒ½å¯ä»¥é€šè¿‡æœºå™¨çš„ç»ˆç«¯è¿ä¸Šå»çœ‹ã€‚å®ƒçœ‹ç€å¥½å¥½çš„ï¼Œå¯æ˜¯å°±æ˜¯è¿ä¸ä¸Šå»ï¼Œç©¶ç«Ÿæ˜¯å“ªé‡Œå‡ºäº†é—®é¢˜å‘¢ï¼Ÿ</p>
<h2 id="icmp-">ICMPåè®®çš„æ ¼å¼</h2>
<p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½ ä¼šæƒ³åˆ°pingä¸€ä¸‹ã€‚é‚£ä½ çŸ¥é“pingæ˜¯å¦‚ä½•å·¥ä½œçš„å—ï¼Ÿ</p>
<p>pingæ˜¯åŸºäºICMPåè®®å·¥ä½œçš„ã€‚<strong>ICMP</strong>å…¨ç§°<strong>Internet Control Message Protocol</strong>ï¼Œå°±æ˜¯<strong>äº’è”ç½‘æ§åˆ¶æŠ¥æ–‡åè®®</strong>ã€‚è¿™é‡Œé¢çš„å…³é”®è¯æ˜¯â€œæ§åˆ¶â€ï¼Œé‚£å…·ä½“æ˜¯æ€ä¹ˆæ§åˆ¶çš„å‘¢ï¼Ÿ</p>
<p>ç½‘ç»œåŒ…åœ¨å¼‚å¸¸å¤æ‚çš„ç½‘ç»œç¯å¢ƒä¸­ä¼ è¾“æ—¶ï¼Œå¸¸å¸¸ä¼šé‡åˆ°å„ç§å„æ ·çš„é—®é¢˜ã€‚å½“é‡åˆ°é—®é¢˜çš„æ—¶å€™ï¼Œæ€»ä¸èƒ½â€œæ­»ä¸ªä¸æ˜ä¸ç™½â€ï¼Œè¦ä¼ å‡ºæ¶ˆæ¯æ¥ï¼ŒæŠ¥å‘Šæƒ…å†µï¼Œè¿™æ ·æ‰å¯ä»¥è°ƒæ•´ä¼ è¾“ç­–ç•¥ã€‚è¿™å°±ç›¸å½“äºæˆ‘ä»¬ç»å¸¸çœ‹åˆ°çš„ç”µè§†å‰§é‡Œï¼Œå¤ä»£è¡Œå†›çš„æ—¶å€™ï¼Œä¸ºå°†ä¸ºå¸…è€…éœ€è¦é€šè¿‡ä¾¦å¯Ÿå…µã€å“¨æ¢æˆ–ä¼ ä»¤å…µç­‰äººè‚‰çš„æ–¹å¼æ¥æŒæ¡æƒ…å†µï¼Œæ§åˆ¶æ•´ä¸ªæˆ˜å±€ã€‚ </p>
<p>ICMPæŠ¥æ–‡æ˜¯å°è£…åœ¨IPåŒ…é‡Œé¢çš„ã€‚å› ä¸ºä¼ è¾“æŒ‡ä»¤çš„æ—¶å€™ï¼Œè‚¯å®šéœ€è¦æºåœ°å€å’Œç›®æ ‡åœ°å€ã€‚å®ƒæœ¬èº«éå¸¸ç®€å•ã€‚å› ä¸ºä½œä¸ºä¾¦æŸ¥å…µï¼Œè¦è½»è£…ä¸Šé˜µï¼Œä¸èƒ½æºå¸¦å¤§é‡çš„åŒ…è¢±ã€‚</p>
<p><img style="margin: 0 auto" src="https://static001.geekbang.org/resource/image/23/ff/23aecf653d60dd94b7c5c6dc21ca21ff.jpg"></p>
<p>ICMPæŠ¥æ–‡æœ‰å¾ˆå¤šçš„ç±»å‹ï¼Œä¸åŒçš„ç±»å‹æœ‰ä¸åŒçš„ä»£ç ã€‚<strong>æœ€å¸¸ç”¨çš„ç±»å‹æ˜¯ä¸»åŠ¨è¯·æ±‚ä¸º8ï¼Œä¸»åŠ¨è¯·æ±‚çš„åº”ç­”ä¸º0</strong>ã€‚</p>
<h2 id="-">æŸ¥è¯¢æŠ¥æ–‡ç±»å‹</h2>
<p>æˆ‘ä»¬ç»å¸¸åœ¨ç”µè§†å‰§é‡Œå¬åˆ°è¿™æ ·çš„è¯ï¼šä¸»å¸…è¯´ï¼Œæ¥äººå“ªï¼å‰æ–¹æˆ˜äº‹å¦‚ä½•ï¼Œå¿«å»æ´¾äººæ‰“æ¢ï¼Œä¸€æœ‰æƒ…å†µï¼Œç«‹å³é€šæŠ¥ï¼</p>
<p>è¿™ç§æ˜¯ä¸»å¸…å‘èµ·çš„ï¼Œä¸»åŠ¨æŸ¥çœ‹æ•Œæƒ…ï¼Œå¯¹åº”ICMPçš„<strong>æŸ¥è¯¢æŠ¥æ–‡ç±»å‹</strong>ã€‚ä¾‹å¦‚ï¼Œå¸¸ç”¨çš„<strong>pingå°±æ˜¯æŸ¥è¯¢æŠ¥æ–‡ï¼Œæ˜¯ä¸€ç§ä¸»åŠ¨è¯·æ±‚ï¼Œå¹¶ä¸”è·å¾—ä¸»åŠ¨åº”ç­”çš„ICMPåè®®ã€‚</strong>æ‰€ä»¥ï¼Œpingå‘çš„åŒ…ä¹Ÿæ˜¯ç¬¦åˆICMPåè®®æ ¼å¼çš„ï¼Œåªä¸è¿‡å®ƒåœ¨åé¢å¢åŠ äº†è‡ªå·±çš„æ ¼å¼ã€‚</p>
<p>å¯¹pingçš„ä¸»åŠ¨è¯·æ±‚ï¼Œè¿›è¡Œç½‘ç»œæŠ“åŒ…ï¼Œç§°ä¸º<strong>ICMP ECHO REQUESTã€‚</strong>åŒç†ä¸»åŠ¨è¯·æ±‚çš„å›å¤ï¼Œç§°ä¸º<strong>ICMP ECHO REPLY</strong>ã€‚æ¯”èµ·åŸç”Ÿçš„ICMPï¼Œè¿™é‡Œé¢å¤šäº†ä¸¤ä¸ªå­—æ®µï¼Œä¸€ä¸ªæ˜¯<strong>æ ‡è¯†ç¬¦</strong>ã€‚è¿™ä¸ªå¾ˆå¥½ç†è§£ï¼Œä½ æ´¾å‡ºå»ä¸¤é˜Ÿä¾¦æŸ¥å…µï¼Œä¸€é˜Ÿæ˜¯ä¾¦æŸ¥æˆ˜å†µçš„ï¼Œä¸€é˜Ÿæ˜¯å»æŸ¥æ‰¾æ°´æºçš„ï¼Œè¦æœ‰ä¸ªæ ‡è¯†æ‰èƒ½åŒºåˆ†ã€‚å¦ä¸€ä¸ªæ˜¯<strong>åºå·</strong>ï¼Œä½ æ´¾å‡ºå»çš„ä¾¦æŸ¥å…µï¼Œéƒ½è¦ç¼–ä¸ªå·ã€‚å¦‚æœæ´¾å‡ºå»10ä¸ªï¼Œå›æ¥10ä¸ªï¼Œå°±è¯´æ˜å‰æ–¹æˆ˜å†µä¸é”™ï¼›å¦‚æœæ´¾å‡ºå»10ä¸ªï¼Œå›æ¥2ä¸ªï¼Œè¯´æ˜æƒ…å†µå¯èƒ½ä¸å¦™ã€‚</p>
<p>åœ¨é€‰é¡¹æ•°æ®ä¸­ï¼Œpingè¿˜ä¼šå­˜æ”¾å‘é€è¯·æ±‚çš„æ—¶é—´å€¼ï¼Œæ¥è®¡ç®—å¾€è¿”æ—¶é—´ï¼Œè¯´æ˜è·¯ç¨‹çš„é•¿çŸ­ã€‚</p>
<h2 id="-">å·®é”™æŠ¥æ–‡ç±»å‹</h2>
<p>å½“ç„¶ä¹Ÿæœ‰å¦å¤–ä¸€ç§æ–¹å¼ï¼Œå°±æ˜¯å·®é”™æŠ¥æ–‡ã€‚</p>
<p>ä¸»å¸…éª‘é©¬èµ°ç€èµ°ç€ï¼Œçªç„¶æ¥äº†ä¸€åŒ¹å¿«é©¬ï¼Œä¸Šé¢çš„å°å…µæ°”å–˜ååçš„ï¼šæŠ¥å‘Šä¸»å…¬ï¼Œä¸å¥½å•¦ï¼å¼ å°†å†›é­é‡åŸ‹ä¼ï¼Œå…¨å†›è¦†æ²¡å•¦ï¼è¿™ç§æ˜¯å¼‚å¸¸æƒ…å†µå‘èµ·çš„ï¼Œæ¥æŠ¥å‘Šå‘ç”Ÿäº†ä¸å¥½çš„äº‹æƒ…ï¼Œå¯¹åº”ICMPçš„<strong>å·®é”™æŠ¥æ–‡ç±»å‹</strong>ã€‚</p>
<p>æˆ‘ä¸¾å‡ ä¸ªICMPå·®é”™æŠ¥æ–‡çš„ä¾‹å­ï¼š<strong>ç»ˆç‚¹ä¸å¯è¾¾ä¸º3ï¼ŒæºæŠ‘åˆ¶ä¸º4ï¼Œè¶…æ—¶ä¸º11ï¼Œé‡å®šå‘ä¸º5</strong>ã€‚è¿™äº›éƒ½æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæˆ‘ç»™ä½ å…·ä½“è§£é‡Šä¸€ä¸‹ã€‚</p>
<!-- [[[read_end]]] -->
<p><strong>ç¬¬ä¸€ç§æ˜¯ç»ˆç‚¹ä¸å¯è¾¾</strong>ã€‚å°å…µï¼šæŠ¥å‘Šä¸»å…¬ï¼Œæ‚¨è®©æŠŠç²®è‰é€åˆ°å¼ å°†å†›é‚£é‡Œï¼Œç»“æœæ²¡æœ‰é€åˆ°ã€‚</p>
<p>å¦‚æœä½ æ˜¯ä¸»å…¬ï¼Œä½ è‚¯å®šä¼šé—®ï¼Œä¸ºå•¥é€ä¸åˆ°ï¼Ÿå…·ä½“çš„åŸå› åœ¨ä»£ç ä¸­è¡¨ç¤ºå°±æ˜¯ï¼Œç½‘ç»œä¸å¯è¾¾ä»£ç ä¸º0ï¼Œä¸»æœºä¸å¯è¾¾ä»£ç ä¸º1ï¼Œåè®®ä¸å¯è¾¾ä»£ç ä¸º2ï¼Œç«¯å£ä¸å¯è¾¾ä»£ç ä¸º3ï¼Œéœ€è¦è¿›è¡Œåˆ†ç‰‡ä½†è®¾ç½®äº†ä¸åˆ†ç‰‡ä½ä»£ç ä¸º4ã€‚</p>
<p>å…·ä½“çš„åœºæ™¯å°±åƒè¿™æ ·ï¼š</p>
<ul>
<li>ç½‘ç»œä¸å¯è¾¾ï¼šä¸»å…¬ï¼Œæ‰¾ä¸åˆ°åœ°æ–¹å‘€ï¼Ÿ</li>
<li>ä¸»æœºä¸å¯è¾¾ï¼šä¸»å…¬ï¼Œæ‰¾åˆ°åœ°æ–¹æ²¡è¿™ä¸ªäººå‘€ï¼Ÿ</li>
<li>åè®®ä¸å¯è¾¾ï¼šä¸»å…¬ï¼Œæ‰¾åˆ°åœ°æ–¹ï¼Œæ‰¾åˆ°äººï¼Œå£å·æ²¡å¯¹ä¸Šï¼Œäººå®¶å¤©ç‹ç›–åœ°è™ï¼Œæˆ‘è¯´12345ï¼</li>
<li>ç«¯å£ä¸å¯è¾¾ï¼šä¸»å…¬ï¼Œæ‰¾åˆ°åœ°æ–¹ï¼Œæ‰¾åˆ°äººï¼Œå¯¹äº†å£å·ï¼Œäº‹å„¿æ²¡å¯¹ä¸Šï¼Œæˆ‘å»é€ç²®è‰ï¼Œäººå®¶è¯´ä»–ä»¬åœ¨ç­‰æ•‘å…µã€‚</li>
<li>éœ€è¦è¿›è¡Œåˆ†ç‰‡ä½†è®¾ç½®äº†ä¸åˆ†ç‰‡ä½ï¼šä¸»å…¬ï¼Œèµ°åˆ°ä¸€åŠï¼Œå±±è·¯ç‹­çª„ï¼Œæƒ³æ¢å°è½¦ï¼Œä½†æ˜¯æ‚¨çš„å°†ä»¤ï¼Œä¸¥ç¦æ¢å°è½¦ï¼Œå°±æ²¡åŠæ³•é€åˆ°äº†ã€‚</li>
</ul>
<p><strong>ç¬¬äºŒç§æ˜¯æºç«™æŠ‘åˆ¶</strong>ï¼Œä¹Ÿå°±æ˜¯è®©æºç«™æ”¾æ…¢å‘é€é€Ÿåº¦ã€‚å°å…µï¼šæŠ¥å‘Šä¸»å…¬ï¼Œæ‚¨ç²®è‰é€çš„å¤ªå¤šäº†åƒä¸å®Œã€‚</p>
<p><strong>ç¬¬ä¸‰ç§æ˜¯æ—¶é—´è¶…æ—¶</strong>ï¼Œä¹Ÿå°±æ˜¯è¶…è¿‡ç½‘ç»œåŒ…çš„ç”Ÿå­˜æ—¶é—´è¿˜æ˜¯æ²¡åˆ°ã€‚å°å…µï¼šæŠ¥å‘Šä¸»å…¬ï¼Œé€ç²®è‰çš„äººï¼Œè‡ªå·±æŠŠç²®è‰åƒå®Œäº†ï¼Œè¿˜æ²¡æ‰¾åˆ°åœ°æ–¹ï¼Œå·²ç»é¥¿æ­»å•¦ã€‚</p>
<p><strong>ç¬¬å››ç§æ˜¯è·¯ç”±é‡å®šå‘</strong>ï¼Œä¹Ÿå°±æ˜¯è®©ä¸‹æ¬¡å‘ç»™å¦ä¸€ä¸ªè·¯ç”±å™¨ã€‚å°å…µï¼šæŠ¥å‘Šä¸»å…¬ï¼Œä¸Šæ¬¡é€ç²®è‰çš„äººæœ¬æ¥åªè¦èµ°ä¸€ç«™åœ°é“ï¼Œéå¾—ä»äº”ç¯ç»•ï¼Œä¸‹æ¬¡åˆ«è¿™æ ·äº†å•Šã€‚</p>
<p>å·®é”™æŠ¥æ–‡çš„ç»“æ„ç›¸å¯¹å¤æ‚ä¸€äº›ã€‚é™¤äº†å‰é¢è¿˜æ˜¯IPï¼ŒICMPçš„å‰8å­—èŠ‚ä¸å˜ï¼Œåé¢åˆ™è·Ÿä¸Šå‡ºé”™çš„é‚£ä¸ªIPåŒ…çš„IPå¤´å’ŒIPæ­£æ–‡çš„å‰8ä¸ªå­—èŠ‚ã€‚</p>
<p>è€Œä¸”è¿™ç±»ä¾¦æŸ¥å…µç‰¹åˆ«æªå°½èŒå®ˆï¼Œä¸ä½†è‡ªå·±è¿”å›æ¥æŠ¥ä¿¡ï¼Œè¿˜æŠŠä¸€éƒ¨åˆ†é—ç‰©ä¹Ÿå¸¦å›æ¥ã€‚</p>
<ul>
<li>ä¾¦å¯Ÿå…µï¼šæŠ¥å‘Šä¸»å…¬ï¼Œå¼ å°†å†›å·²ç»æˆ˜æ­»æ²™åœºï¼Œè¿™æ˜¯å¼ å°†å†›çš„å°ä¿¡å’Œä½©å‰‘ã€‚</li>
<li>ä¸»å…¬ï¼šç¥é©¬ï¼Ÿå¼ å°†å†›æ˜¯æ€ä¹ˆæ­»çš„ï¼ˆå¯ä»¥æŸ¥çœ‹ICMPçš„å‰8å­—èŠ‚ï¼‰ï¼Ÿæ²¡é”™ï¼Œè¿™æ˜¯å¼ å°†å†›çš„å‰‘ï¼Œæ˜¯ä»–çš„å‰‘ï¼ˆIPæ•°æ®åŒ…çš„å¤´åŠæ­£æ–‡å‰8å­—èŠ‚ï¼‰ã€‚</li>
</ul>
<h2 id="ping-">pingï¼šæŸ¥è¯¢æŠ¥æ–‡ç±»å‹çš„ä½¿ç”¨</h2>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é‡ç‚¹æ¥çœ‹pingçš„å‘é€å’Œæ¥æ”¶è¿‡ç¨‹ã€‚</p>
<p><img style="margin: 0 auto" src="https://static001.geekbang.org/resource/image/e5/fc/e5270427819fc51c88e81a5c1cc4b8fc.jpg"></p>
<p>å‡å®šä¸»æœºAçš„IPåœ°å€æ˜¯192.168.1.1ï¼Œä¸»æœºBçš„IPåœ°å€æ˜¯192.168.1.2ï¼Œå®ƒä»¬éƒ½åœ¨åŒä¸€ä¸ªå­ç½‘ã€‚é‚£å½“ä½ åœ¨ä¸»æœºAä¸Šè¿è¡Œâ€œping 192.168.1.2â€åï¼Œä¼šå‘ç”Ÿä»€ä¹ˆå‘¢?</p>
<p>pingå‘½ä»¤æ‰§è¡Œçš„æ—¶å€™ï¼Œæºä¸»æœºé¦–å…ˆä¼šæ„å»ºä¸€ä¸ªICMPè¯·æ±‚æ•°æ®åŒ…ï¼ŒICMPæ•°æ®åŒ…å†…åŒ…å«å¤šä¸ªå­—æ®µã€‚æœ€é‡è¦çš„æ˜¯ä¸¤ä¸ªï¼Œç¬¬ä¸€ä¸ªæ˜¯<strong>ç±»å‹å­—æ®µ</strong>ï¼Œå¯¹äºè¯·æ±‚æ•°æ®åŒ…è€Œè¨€è¯¥å­—æ®µä¸º 8ï¼›å¦å¤–ä¸€ä¸ªæ˜¯<strong>é¡ºåºå·</strong>ï¼Œä¸»è¦ç”¨äºåŒºåˆ†è¿ç»­pingçš„æ—¶å€™å‘å‡ºçš„å¤šä¸ªæ•°æ®åŒ…ã€‚æ¯å‘å‡ºä¸€ä¸ªè¯·æ±‚æ•°æ®åŒ…ï¼Œé¡ºåºå·ä¼šè‡ªåŠ¨åŠ 1ã€‚ä¸ºäº†èƒ½å¤Ÿè®¡ç®—å¾€è¿”æ—¶é—´RTTï¼Œå®ƒä¼šåœ¨æŠ¥æ–‡çš„æ•°æ®éƒ¨åˆ†æ’å…¥å‘é€æ—¶é—´ã€‚</p>
<p>ç„¶åï¼Œç”±ICMPåè®®å°†è¿™ä¸ªæ•°æ®åŒ…è¿åŒåœ°å€192.168.1.2ä¸€èµ·äº¤ç»™IPå±‚ã€‚IPå±‚å°†ä»¥192.168.1.2ä½œä¸ºç›®çš„åœ°å€ï¼Œæœ¬æœºIPåœ°å€ä½œä¸ºæºåœ°å€ï¼ŒåŠ ä¸Šä¸€äº›å…¶ä»–æ§åˆ¶ä¿¡æ¯ï¼Œæ„å»ºä¸€ä¸ªIPæ•°æ®åŒ…ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œéœ€è¦åŠ å…¥MACå¤´ã€‚å¦‚æœåœ¨æœ¬èŠ‚ARPæ˜ å°„è¡¨ä¸­æŸ¥æ‰¾å‡ºIPåœ°å€192.168.1.2æ‰€å¯¹åº”çš„MACåœ°å€ï¼Œåˆ™å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼›å¦‚æœæ²¡æœ‰ï¼Œåˆ™éœ€è¦å‘é€ARPåè®®æŸ¥è¯¢MACåœ°å€ï¼Œè·å¾—MACåœ°å€åï¼Œç”±æ•°æ®é“¾è·¯å±‚æ„å»ºä¸€ä¸ªæ•°æ®å¸§ï¼Œç›®çš„åœ°å€æ˜¯IPå±‚ä¼ è¿‡æ¥çš„MACåœ°å€ï¼Œæºåœ°å€åˆ™æ˜¯æœ¬æœºçš„MACåœ°å€ï¼›è¿˜è¦é™„åŠ ä¸Šä¸€äº›æ§åˆ¶ä¿¡æ¯ï¼Œä¾æ®ä»¥å¤ªç½‘çš„ä»‹è´¨è®¿é—®è§„åˆ™ï¼Œå°†å®ƒä»¬ä¼ é€å‡ºå»ã€‚</p>
<p>ä¸»æœºBæ”¶åˆ°è¿™ä¸ªæ•°æ®å¸§åï¼Œå…ˆæ£€æŸ¥å®ƒçš„ç›®çš„MACåœ°å€ï¼Œå¹¶å’Œæœ¬æœºçš„MACåœ°å€å¯¹æ¯”ï¼Œå¦‚ç¬¦åˆï¼Œåˆ™æ¥æ”¶ï¼Œå¦åˆ™å°±ä¸¢å¼ƒã€‚æ¥æ”¶åæ£€æŸ¥è¯¥æ•°æ®å¸§ï¼Œå°†IPæ•°æ®åŒ…ä»å¸§ä¸­æå–å‡ºæ¥ï¼Œäº¤ç»™æœ¬æœºçš„IPå±‚ã€‚åŒæ ·ï¼ŒIPå±‚æ£€æŸ¥åï¼Œå°†æœ‰ç”¨çš„ä¿¡æ¯æå–åäº¤ç»™ICMPåè®®ã€‚</p>
<p>ä¸»æœºBä¼šæ„å»ºä¸€ä¸ª ICMP åº”ç­”åŒ…ï¼Œåº”ç­”æ•°æ®åŒ…çš„ç±»å‹å­—æ®µä¸º 0ï¼Œé¡ºåºå·ä¸ºæ¥æ”¶åˆ°çš„è¯·æ±‚æ•°æ®åŒ…ä¸­çš„é¡ºåºå·ï¼Œç„¶åå†å‘é€å‡ºå»ç»™ä¸»æœºAã€‚</p>
<p>åœ¨è§„å®šçš„æ—¶å€™é—´å†…ï¼Œæºä¸»æœºå¦‚æœæ²¡æœ‰æ¥åˆ° ICMP çš„åº”ç­”åŒ…ï¼Œåˆ™è¯´æ˜ç›®æ ‡ä¸»æœºä¸å¯è¾¾ï¼›å¦‚æœæ¥æ”¶åˆ°äº† ICMP åº”ç­”åŒ…ï¼Œåˆ™è¯´æ˜ç›®æ ‡ä¸»æœºå¯è¾¾ã€‚æ­¤æ—¶ï¼Œæºä¸»æœºä¼šæ£€æŸ¥ï¼Œç”¨å½“å‰æ—¶åˆ»å‡å»è¯¥æ•°æ®åŒ…æœ€åˆä»æºä¸»æœºä¸Šå‘å‡ºçš„æ—¶åˆ»ï¼Œå°±æ˜¯ ICMP æ•°æ®åŒ…çš„æ—¶é—´å»¶è¿Ÿã€‚</p>
<p>å½“ç„¶è¿™åªæ˜¯æœ€ç®€å•çš„ï¼ŒåŒä¸€ä¸ªå±€åŸŸç½‘é‡Œé¢çš„æƒ…å†µã€‚å¦‚æœè·¨ç½‘æ®µçš„è¯ï¼Œè¿˜ä¼šæ¶‰åŠç½‘å…³çš„è½¬å‘ã€è·¯ç”±å™¨çš„è½¬å‘ç­‰ç­‰ã€‚ä½†æ˜¯å¯¹äºICMPçš„å¤´æ¥è®²ï¼Œæ˜¯æ²¡ä»€ä¹ˆå½±å“çš„ã€‚ä¼šå½±å“çš„æ˜¯æ ¹æ®ç›®æ ‡IPåœ°å€ï¼Œé€‰æ‹©è·¯ç”±çš„ä¸‹ä¸€è·³ï¼Œè¿˜æœ‰æ¯ç»è¿‡ä¸€ä¸ªè·¯ç”±å™¨åˆ°è¾¾ä¸€ä¸ªæ–°çš„å±€åŸŸç½‘ï¼Œéœ€è¦æ¢MACå¤´é‡Œé¢çš„MACåœ°å€ã€‚è¿™ä¸ªè¿‡ç¨‹åé¢å‡ èŠ‚ä¼šè¯¦ç»†æè¿°ï¼Œè¿™é‡Œæš‚æ—¶ä¸å¤šè¯´ã€‚</p>
<p>å¦‚æœåœ¨è‡ªå·±çš„å¯æ§èŒƒå›´ä¹‹å†…ï¼Œå½“é‡åˆ°ç½‘ç»œä¸é€šçš„é—®é¢˜çš„æ—¶å€™ï¼Œé™¤äº†ç›´æ¥pingç›®æ ‡çš„IPåœ°å€ä¹‹å¤–ï¼Œè¿˜åº”è¯¥æœ‰ä¸€ä¸ªæ¸…æ™°çš„ç½‘ç»œæ‹“æ‰‘å›¾ã€‚å¹¶ä¸”ä»ç†è®ºä¸Šæ¥è®²ï¼Œåº”è¯¥è¦æ¸…æ¥šåœ°çŸ¥é“ä¸€ä¸ªç½‘ç»œåŒ…ä»æºåœ°å€åˆ°ç›®æ ‡åœ°å€éƒ½éœ€è¦ç»è¿‡å“ªäº›è®¾å¤‡ï¼Œç„¶åé€ä¸ªpingä¸­é—´çš„è¿™äº›è®¾å¤‡æˆ–è€…æœºå™¨ã€‚å¦‚æœå¯èƒ½çš„è¯ï¼Œåœ¨è¿™äº›å…³é”®ç‚¹ï¼Œé€šè¿‡tcpdump -i eth0 icmpï¼ŒæŸ¥çœ‹åŒ…æœ‰æ²¡æœ‰åˆ°è¾¾æŸä¸ªç‚¹ï¼Œå›å¤çš„åŒ…åˆ°è¾¾äº†å“ªä¸ªç‚¹ï¼Œå¯ä»¥æ›´åŠ å®¹æ˜“æ¨æ–­å‡ºé”™çš„ä½ç½®ã€‚</p>
<p>ç»å¸¸ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœä¸åœ¨æˆ‘ä»¬çš„æ§åˆ¶èŒƒå›´å†…ï¼Œå¾ˆå¤šä¸­é—´è®¾å¤‡éƒ½æ˜¯ç¦æ­¢pingçš„ï¼Œä½†æ˜¯pingä¸é€šä¸ä»£è¡¨ç½‘ç»œä¸é€šã€‚è¿™ä¸ªæ—¶å€™å°±è¦ä½¿ç”¨telnetï¼Œé€šè¿‡å…¶ä»–åè®®æ¥æµ‹è¯•ç½‘ç»œæ˜¯å¦é€šï¼Œè¿™ä¸ªå°±ä¸åœ¨æœ¬ç¯‡çš„è®²è¿°èŒƒå›´äº†ã€‚</p>
<p>è¯´äº†è¿™ä¹ˆå¤šï¼Œä½ åº”è¯¥å¯ä»¥çœ‹å‡ºpingè¿™ä¸ªç¨‹åºæ˜¯ä½¿ç”¨äº†ICMPé‡Œé¢çš„ECHO REQUESTå’ŒECHO REPLYç±»å‹çš„ã€‚</p>
<h2 id="traceroute-">Tracerouteï¼šå·®é”™æŠ¥æ–‡ç±»å‹çš„ä½¿ç”¨</h2>
<p>é‚£å…¶ä»–çš„ç±»å‹å‘¢ï¼Ÿæ˜¯ä¸æ˜¯åªæœ‰çœŸæ­£é‡åˆ°é”™è¯¯çš„æ—¶å€™ï¼Œæ‰èƒ½æ”¶åˆ°å‘¢ï¼Ÿé‚£ä¹Ÿä¸æ˜¯ï¼Œæœ‰ä¸€ä¸ªç¨‹åºTracerouteï¼Œæ˜¯ä¸ªâ€œå¤§éª—å­â€ã€‚å®ƒä¼šä½¿ç”¨ICMPçš„è§„åˆ™ï¼Œæ•…æ„åˆ¶é€ ä¸€äº›èƒ½å¤Ÿäº§ç”Ÿé”™è¯¯çš„åœºæ™¯ã€‚</p>
<p>æ‰€ä»¥ï¼Œ<strong>Tracerouteçš„ç¬¬ä¸€ä¸ªä½œç”¨å°±æ˜¯æ•…æ„è®¾ç½®ç‰¹æ®Šçš„TTLï¼Œæ¥è¿½è¸ªå»å¾€ç›®çš„åœ°æ—¶æ²¿é€”ç»è¿‡çš„è·¯ç”±å™¨</strong>ã€‚Tracerouteçš„å‚æ•°æŒ‡å‘æŸä¸ªç›®çš„IPåœ°å€ï¼Œå®ƒä¼šå‘é€ä¸€ä¸ªUDPçš„æ•°æ®åŒ…ã€‚å°†TTLè®¾ç½®æˆ1ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€æ—¦é‡åˆ°ä¸€ä¸ªè·¯ç”±å™¨æˆ–è€…ä¸€ä¸ªå…³å¡ï¼Œå°±è¡¨ç¤ºå®ƒâ€œç‰ºç‰²â€äº†ã€‚</p>
<p>å¦‚æœä¸­é—´çš„è·¯ç”±å™¨ä¸æ­¢ä¸€ä¸ªï¼Œå½“ç„¶ç¢°åˆ°ç¬¬ä¸€ä¸ªå°±â€œç‰ºç‰²â€ã€‚äºæ˜¯ï¼Œè¿”å›ä¸€ä¸ªICMPåŒ…ï¼Œä¹Ÿå°±æ˜¯ç½‘ç»œå·®é”™åŒ…ï¼Œç±»å‹æ˜¯æ—¶é—´è¶…æ—¶ã€‚é‚£å¤§å†›å‰è¡Œå°±å¸¦ä¸€é¡¿é¥­ï¼Œè¯•ä¸€è¯•èµ°å¤šè¿œä¼šè¢«é¥¿æ­»ï¼Œç„¶åæ‰¾ä¸ªå“¨æ¢å›æ¥æŠ¥å‘Šï¼Œé‚£æˆ‘å°±çŸ¥é“å¤§å†›åªå¸¦ä¸€é¡¿é¥­èƒ½èµ°å¤šè¿œäº†ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œå°†TTLè®¾ç½®ä¸º2ã€‚ç¬¬ä¸€å…³è¿‡äº†ï¼Œç¬¬äºŒå…³å°±â€œç‰ºç‰²â€äº†ï¼Œé‚£æˆ‘å°±çŸ¥é“ç¬¬äºŒå…³æœ‰å¤šè¿œã€‚å¦‚æ­¤åå¤ï¼Œç›´åˆ°åˆ°è¾¾ç›®çš„ä¸»æœºã€‚è¿™æ ·ï¼ŒTracerouteå°±æ‹¿åˆ°äº†æ‰€æœ‰çš„è·¯ç”±å™¨IPã€‚å½“ç„¶ï¼Œæœ‰çš„è·¯ç”±å™¨å‹æ ¹ä¸ä¼šå›è¿™ä¸ªICMPã€‚è¿™ä¹Ÿæ˜¯Tracerouteä¸€ä¸ªå…¬ç½‘çš„åœ°å€ï¼Œçœ‹ä¸åˆ°ä¸­é—´è·¯ç”±çš„åŸå› ã€‚</p>
<p>æ€ä¹ˆçŸ¥é“UDPæœ‰æ²¡æœ‰åˆ°è¾¾ç›®çš„ä¸»æœºå‘¢ï¼ŸTracerouteç¨‹åºä¼šå‘é€ä¸€ä»½UDPæ•°æ®æŠ¥ç»™ç›®çš„ä¸»æœºï¼Œä½†å®ƒä¼šé€‰æ‹©ä¸€ä¸ªä¸å¯èƒ½çš„å€¼ä½œä¸ºUDPç«¯å£å·ï¼ˆå¤§äº30000ï¼‰ã€‚å½“è¯¥æ•°æ®æŠ¥åˆ°è¾¾æ—¶ï¼Œå°†ä½¿ç›®çš„ä¸»æœºçš„ UDPæ¨¡å—äº§ç”Ÿä¸€ä»½â€œç«¯å£ä¸å¯è¾¾â€é”™è¯¯ICMPæŠ¥æ–‡ã€‚å¦‚æœæ•°æ®æŠ¥æ²¡æœ‰åˆ°è¾¾ï¼Œåˆ™å¯èƒ½æ˜¯è¶…æ—¶ã€‚</p>
<p>è¿™å°±ç›¸å½“äºæ•…æ„æ´¾äººå»è¥¿å¤©å¦‚æ¥é‚£é‡Œå»è¯·ä¸€æœ¬ã€Šé“å¾·ç»ã€‹ï¼Œç»“æœäººå®¶ä¿¡ä½›ä¸ä¿¡é“ï¼Œæ¶ˆæ¯å°±ä¼šè¢«æ‰“å‡ºæ¥ã€‚è¢«æ‰“çš„æ¶ˆæ¯ä¼ å›æ¥ï¼Œä½ å°±çŸ¥é“è¥¿å¤©æ˜¯èƒ½å¤Ÿåˆ°è¾¾çš„ã€‚ä¸ºä»€ä¹ˆä¸å»å–ã€Šå¿ƒç»ã€‹å‘¢ï¼Ÿå› ä¸ºUDPæ˜¯æ— è¿æ¥çš„ã€‚ä¹Ÿå°±æ˜¯è¯´è¿™äººä¸€æ´¾å‡ºå»ï¼Œä½ å°±å¾—ä¸åˆ°ä»»ä½•éŸ³ä¿¡ã€‚ä½ æ— æ³•åŒºåˆ«åˆ°åº•æ˜¯åŠè·¯èµ°ä¸¢äº†ï¼Œè¿˜æ˜¯çœŸçš„ä¿¡ä½›éå…¥ç©ºé—¨äº†ï¼Œåªæœ‰è®©äººå®¶æ‰“å‡ºæ¥ï¼Œä½ æ‰ä¼šå¾—åˆ°æ¶ˆæ¯ã€‚</p>
<p><strong>Tracerouteè¿˜æœ‰ä¸€ä¸ªä½œç”¨æ˜¯æ•…æ„è®¾ç½®ä¸åˆ†ç‰‡ï¼Œä»è€Œç¡®å®šè·¯å¾„çš„MTUã€‚</strong>è¦åšçš„å·¥ä½œé¦–å…ˆæ˜¯å‘é€åˆ†ç»„ï¼Œå¹¶è®¾ç½®â€œä¸åˆ†ç‰‡â€æ ‡å¿—ã€‚å‘é€çš„ç¬¬ä¸€ä¸ªåˆ†ç»„çš„é•¿åº¦æ­£å¥½ä¸å‡ºå£MTUç›¸ç­‰ã€‚å¦‚æœä¸­é—´é‡åˆ°çª„çš„å…³å£ä¼šè¢«å¡ä½ï¼Œä¼šå‘é€ICMPç½‘ç»œå·®é”™åŒ…ï¼Œç±»å‹ä¸ºâ€œéœ€è¦è¿›è¡Œåˆ†ç‰‡ä½†è®¾ç½®äº†ä¸åˆ†ç‰‡ä½â€ã€‚å…¶å®ï¼Œè¿™æ˜¯äººå®¶æ•…æ„çš„å¥½å§ï¼Œæ¯æ¬¡æ”¶åˆ°ICMPâ€œä¸èƒ½åˆ†ç‰‡â€å·®é”™æ—¶å°±å‡å°åˆ†ç»„çš„é•¿åº¦ï¼Œç›´åˆ°åˆ°è¾¾ç›®æ ‡ä¸»æœºã€‚</p>
<h2 id="-">å°ç»“</h2>
<p>å¥½äº†ï¼Œè¿™ä¸€èŠ‚å†…å®¹å·®ä¸å¤šäº†ï¼Œæˆ‘æ¥æ€»ç»“ä¸€ä¸‹ï¼š</p>
<ul>
<li>ICMPç›¸å½“äºç½‘ç»œä¸–ç•Œçš„ä¾¦å¯Ÿå…µã€‚æˆ‘è®²äº†ä¸¤ç§ç±»å‹çš„ICMPæŠ¥æ–‡ï¼Œä¸€ç§æ˜¯ä¸»åŠ¨æ¢æŸ¥çš„æŸ¥è¯¢æŠ¥æ–‡ï¼Œä¸€ç§å¼‚å¸¸æŠ¥å‘Šçš„å·®é”™æŠ¥æ–‡ï¼›</li>
<li>pingä½¿ç”¨æŸ¥è¯¢æŠ¥æ–‡ï¼ŒTracerouteä½¿ç”¨å·®é”™æŠ¥æ–‡ã€‚</li>
</ul>
<p>æœ€åï¼Œç»™ä½ ç•™ä¸¤ä¸ªæ€è€ƒé¢˜å§ã€‚</p>
<ol>
<li>å½“å‘é€çš„æŠ¥æ–‡å‡ºé—®é¢˜çš„æ—¶å€™ï¼Œä¼šå‘é€ä¸€ä¸ªICMPçš„å·®é”™æŠ¥æ–‡æ¥æŠ¥å‘Šé”™è¯¯ï¼Œä½†æ˜¯å¦‚æœICMPçš„å·®é”™æŠ¥æ–‡ä¹Ÿå‡ºé—®é¢˜äº†å‘¢ï¼Ÿ</li>
<li>è¿™ä¸€èŠ‚åªè¯´äº†ä¸€ä¸ªå±€åŸŸç½‘äº’ç›¸pingçš„æƒ…å†µã€‚å¦‚æœè·¨è·¯ç”±å™¨ã€è·¨ç½‘å…³çš„è¿‡ç¨‹ä¼šæ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿ</li>
</ol>
<p>æ¬¢è¿ä½ ç•™è¨€å’Œæˆ‘è®¨è®ºã€‚è¶£è°ˆç½‘ç»œåè®®ï¼Œæˆ‘ä»¬ä¸‹æœŸè§ï¼</p>
<p><img src="https://static001.geekbang.org/resource/image/b5/fb/b5bc14cb81d3630919fee94a512cc3fb.jpg" alt=""></p>

                    </div>
                </div>

            </div>
            <div data-v-87ffcada="" class="article-comments pd"><h2 data-v-87ffcada=""><span
                    data-v-87ffcada="">ç²¾é€‰ç•™è¨€</span></h2>
                <ul data-v-87ffcada="">
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/11/21/0f/b61dc67e.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">^_^</span>
                            </div>
                            <div class="bd">ä¸€ç‚¹ä¸ªäººæ„Ÿè§‰:è€å¸ˆçš„æ¯”å–»æœ‰ç‚¹å¤ªç”¨åŠ›äº†ï¼Œä¸å¦‚ç®€å•é€šä¿—çš„è®²è§£åŸç†.<br>å¦å¤–é”™åˆ«å­—å’Œè¯­å¥é€šé¡ºç¨‹åº¦æ˜¯ä¼šå½±å“ç†è§£çš„ï¼Œå‰å‡ æœŸæœ‰æ—¶ä¹Ÿæœ‰è¿™ä¸ªæ„Ÿè§‰ã€‚<br>ä¸“ä¸šæ°´å¹³è€å¸ˆè¿˜æ˜¯å¾ˆç‰›çš„ï¼Œå­¦åˆ°å¾ˆå¤šçŸ¥è¯†ã€‚ <br></div>
                            <span class="time">2018-06-03 10:55</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/0f/52/0e/abb7bfe3.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">æ‰‹æ’•æ²¹æ¡</span>
                            </div>
                            <div class="bd">è¶Šå¬è¶Šæƒ³å¬ï¼Œä¸€å‘¨ä¸‰æ›´å¬ä¸çˆ½ <br></div>
                            <span class="time">2018-06-01 08:57</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">è°¢è°¢</p>
                                <p class="reply-time">2018-06-01 18:55</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/10/cd/17/59d4d531.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">ç§¦ä¿Šå±±</span>
                            </div>
                            <div class="bd">éè®¡ç®—æœºä¸“ä¸šå‡ºèº«çš„ï¼Œå¬å¾—ä¸€è„¸æ‡µé€¼ã€‚ <br></div>
                            <span class="time">2018-06-02 08:53</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/10/d6/42/bafec9b7.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">ç›–</span>
                            </div>
                            <div class="bd">å¥½åƒä¸å‘ICMPå·®é”™æŠ¥æ–‡çš„ä¸€ç§æƒ…å†µå°±æ˜¯ICMP çš„å·®é”™æŠ¥æ–‡å‡ºé”™ï¼Œå…¶å®ƒè¿˜æœ‰ç›®çš„åœ°å€ä¸ºå¹¿æ’­æ—¶æˆ–è€…æºåœ°å€ä¸å”¯ä¸€æ—¶ä¹Ÿä¸å‘å·®é”™æŠ¥æ–‡ã€‚<br><br>å‰é¢è¯„è®ºé—®udpä¸ºä»€ä¹ˆè¿”å›ICMPæŠ¥æ–‡çš„ï¼ŒICMPä¸€èˆ¬è®¤ä¸ºå±äºç½‘ç»œå±‚çš„ï¼Œå’ŒIPåŒä¸€å±‚ï¼Œæ˜¯ç®¡ç†å’Œæ§åˆ¶IPçš„ä¸€ç§åè®®ï¼Œè€ŒUDPå’ŒTCPæ˜¯ä¼ è¾“å±‚ï¼Œæ‰€ä»¥UDPå‡ºé”™å¯ä»¥è¿”å›ICMPå·®é”™æŠ¥æ–‡ <br></div>
                            <span class="time">2018-06-01 11:24</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">èµ</p>
                                <p class="reply-time">2018-06-01 14:56</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">ç•ªèŒ„å°¼ç›</span>
                            </div>
                            <div class="bd">åŒè§‰å¾—æ¯”å–»æœ‰äº›ç”¨åŠ›è¿‡çŒ›äº†ï¼Œå¸Œæœ›è€å¸ˆèƒ½åœ¨æ¯”å–»ä¹‹åå†ç”¨æŠ€æœ¯è¯­è¨€è§£é‡Šä¸€ä¸‹ã€‚æ¯”å¦‚è¿™ç¯‡æ–‡ç« ä¸­ï¼Œç»ˆç‚¹ä¸å¯è¾¾çš„å‡ ä¸ªåœºæ™¯ï¼Œæˆ‘å°±æ²¡æƒ³é€šç½‘ç»œä¸å¯è¾¾å’Œä¸»æœºä¸å¯è¾¾æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œè¿˜æœ‰åè®®ä¸å¯è¾¾å’Œç«¯å£ä¸å¯è¾¾æœ‰ä»€ä¹ˆåŒºåˆ« <br></div>
                            <span class="time">2018-06-15 17:45</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/12/c2/14/bfd5e94e.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">ç®€</span>
                            </div>
                            <div class="bd">è€å¸ˆæˆ‘è§‰å¾—è·Ÿå¤šäººè¯´ä½ æ¯”å–»å¤ªæŠ½è±¡ï¼Œæˆ‘è§‰å¾—ä»–ä»¬åº•å­å¤ªå·®ï¼Œéœ€è¦æ¶è¡¥ã€‚æˆ‘è§‰å¾—ä½ æ¯”å–»çœŸå¥½ï¼æˆ‘åŸæ¥æŠŠä¸€æœ¬ç½‘ç»œåŸºç¡€ä¹¦çœ‹å®Œäº†ï¼Œæ‰€ä»¥ä¸€è¯´å°±æ‡‚ï¼Œä½ è¿™ä¹ˆè¯´æˆ‘è§‰å¾—æˆ‘å…­è„‰æ‰“é€šäº† <br></div>
                            <span class="time">2018-09-16 23:22</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/0f/ec/1c/d323b066.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">knull</span>
                            </div>
                            <div class="bd">è®¸å¤šäººé—®ï¼štracerouterå‘udpï¼Œä¸ºå•¥å‡ºé”™å›icmpï¼Ÿ<br>æ­£å¸¸æƒ…å†µä¸‹ï¼Œåè®®æ ˆèƒ½æ­£å¸¸èµ°åˆ°udpï¼Œå½“ç„¶æ­£å¸¸è¿”å›udpã€‚<br>ä½†æ˜¯ï¼Œä½ ä¸»æœºä¸å¯è¾¾ï¼Œæ˜¯ipå±‚çš„ï¼ˆè¿˜æ²¡åˆ°udpï¼‰ã€‚ipå±‚ï¼Œå½“ç„¶åªçŸ¥é“å›icmpã€‚æŠ¥æ–‡åˆ†ç‰‡é”™è¯¯ä¹Ÿæ˜¯åŒç†ã€‚<br> <br></div>
                            <span class="time">2018-09-12 09:26</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">æ˜¯çš„</p>
                                <p class="reply-time">2018-09-12 10:21</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/0f/90/26/6a37f007.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">YXsong</span>
                            </div>
                            <div class="bd">æ²¡åŸºç¡€çš„å°ç™½å¬çš„äº‘é‡Œé›¾é‡Œå‘€ï¼Œå¥½éš¾ğŸ¤¯ <br></div>
                            <span class="time">2018-07-22 22:23</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/0f/49/b8/fb19aa6a.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">yaxin</span>
                            </div>
                            <div class="bd">æ„Ÿè§‰æŸ¥è¯¢æŠ¥æ–‡å°±åƒç¼–ç¨‹ä¸­çš„æ­£å¸¸æµç¨‹ï¼Œå·®é”™æŠ¥æ–‡ç›¸å½“äºæµ‹è¯•ç¨‹åºã€‚ <br></div>
                            <span class="time">2018-06-04 11:41</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/0f/49/b8/fb19aa6a.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">yaxin</span>
                            </div>
                            <div class="bd">TTLçš„ä½œç”¨æ²¡æœ‰è®²æ¸…æ¥šï¼Œç‰¹æ­¤è®°å½•ä¸€ä¸‹ã€‚<br>TTLæ˜¯ç½‘ç»œåŒ…é‡Œçš„ä¸€ä¸ªå€¼ï¼Œå®ƒå‘Šè¯‰è·¯ç”±å™¨åŒ…åœ¨ç½‘ç»œä¸­å¤ªé•¿æ—¶é—´æ˜¯å¦éœ€è¦è¢«ä¸¢å¼ƒã€‚TTLæœ€åˆçš„è®¾æƒ³æ˜¯ï¼Œè®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œè¶…è¿‡æ­¤èŒƒå›´åˆ™è¢«ä¸¢å¼ƒã€‚æ¯ä¸ªè·¯ç”±å™¨è¦å°†TTLå‡ä¸€ï¼ŒTTLé€šå¸¸è¡¨ç¤ºè¢«ä¸¢å¼ƒå‰ç»è¿‡çš„è·¯ç”±å™¨çš„ä¸ªæ•°ã€‚å½“TTLå˜ä¸º0æ—¶ï¼Œè¯¥è·¯ç”±å™¨ä¸¢å¼ƒè¯¥åŒ…ï¼Œå¹¶å‘é€ä¸€ä¸ªICMPåŒ…ç»™æœ€åˆçš„å‘é€è€…ã€‚ trancerouteå·®é”™æŠ¥æ–‡ä¼šä½¿ç”¨ <br></div>
                            <span class="time">2018-09-29 16:47</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/10/52/bb/084faf32.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">hunterlodge</span>
                            </div>
                            <div class="bd">å·®é”™æŠ¥æ–‡ä¸­çš„ç«¯å£ä¸å¯è¾¾æ˜¯æŒ‡ä»€ä¹ˆç«¯å£å‘¢ï¼Ÿä¸ºä»€ä¹ˆICMPåè®®ä¼šæœ‰ç«¯å£æ¦‚å¿µå‘¢ï¼Ÿ <br></div>
                            <span class="time">2018-06-16 08:15</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/0f/49/b8/fb19aa6a.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">yaxin</span>
                            </div>
                            <div class="bd">å·®é”™æŠ¥æ–‡å°±æ˜¯æ•…æ„æ‰¾èŒ¬ï¼Œåˆ¶é€ é”™è¯¯è®©åˆ«äººæ‰“å›å»ã€‚ <br></div>
                            <span class="time">2018-09-29 16:17</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/11/49/86/554cc50e.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">å¼ å¼ å¼  ğŸ’­</span>
                            </div>
                            <div class="bd">çœ‹äº†è¿™ä¹ˆå¤šï¼Œæˆ‘è§‰å¾—å¯ä»¥å…ˆè¯´åŸç†æ€§æè¿°ï¼Œç„¶åå†æ¯”å–»ï¼Œè¿™æ ·å¯ä»¥å¯¹æ¯”ç€ç†è§£ï¼Œè¿™æ ·åº”è¯¥æ›´å¥½äº› <br></div>
                            <span class="time">2018-06-27 11:26</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/10/fb/51/870a6fcb.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">Trust me Ò‰Ò‰Ò‰Ò‰Ò‰Ò‰Ò‰â€</span>
                            </div>
                            <div class="bd">tracerouterå‘é€çš„åŒ…æ˜¯ä»€ä¹ˆç¨‹åºç»™çš„å“åº”ï¼Ÿ  æ˜¯ç›®æ ‡ä¸»æœºçš„tracerouteç¨‹åºï¼Ÿè¿˜æ˜¯ICMP <br></div>
                            <span class="time">2018-06-01 10:55</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">æ²¡æœ‰æœåŠ¡ç«¯ï¼Œå…¨éƒ¨åœ¨åˆ¶é€ é”™è¯¯</p>
                                <p class="reply-time">2018-06-01 18:10</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/10/04/8d/575cfabd.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">sprinty</span>
                            </div>
                            <div class="bd">è€å¸ˆæ‚¨å¥½ï¼Œä»¥æˆ‘çš„ç»éªŒä½¿ç”¨tcp&#47;udpåè®®å¯ä»¥ç”¨scoket apiç¼–ç¨‹ï¼Œä½†æ˜¯æ–‡ä¸­æåˆ°pingç¨‹åºä½¿ç”¨äº†ipåè®®ï¼Œé‚£pingç¨‹åºçš„å®ç°æ˜¯ä¸æ˜¯ç”¨åˆ°äº†å…¶ä»–ç½‘ç»œç¼–ç¨‹æ¥å£ï¼Ÿ<br><br>æ¢å¥è¯è¯´ï¼Œæ¯ä¸€å±‚çš„åè®®éƒ½æœ‰ç›¸åº”çš„apiå¯ä»¥è°ƒç”¨å—ï¼Ÿæœ‰çš„è¯åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ<br><br>ä½†åˆæ„Ÿè§‰æˆ‘ä»¬å†™çš„ç¨‹åºä¸€èˆ¬æ˜¯åº”ç”¨å±‚ç”¨socketå°±è¡Œäº†â€¦ <br></div>
                            <span class="time">2018-06-02 07:46</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">ä¸æ˜¯æ¯ä¸€å±‚éƒ½æœ‰æ¥å£çš„ï¼Œtcp ipåè®®æ ˆåœ¨å†…æ ¸é‡Œé¢ï¼Œå†…æ ¸çš„æœ€å¤–å±‚æ˜¯ç³»ç»Ÿè°ƒç”¨ï¼Œæ‰€ä»¥ä½ çœ‹èµ·æ¥å°±åªèƒ½è°ƒç”¨socketäº†</p>
                                <p class="reply-time">2018-06-02 18:14</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">anthann</span>
                            </div>
                            <div class="bd">Tracerouteå‘é€çš„æ˜¯udpåŒ…ï¼Œä¸ºä»€ä¹ˆä¹Ÿèƒ½æ”¶åˆ°icmpå“åº”å‘¢ï¼Ÿ <br></div>
                            <span class="time">2018-06-01 08:46</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">æ‰€ä»¥æ˜¯ä¾¦æŸ¥å…µå•Šï¼Œé”™è¯¯äº†å°±ä¼šå‘</p>
                                <p class="reply-time">2018-06-01 12:19</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">anthann</span>
                            </div>
                            <div class="bd">ptracerouteç”¨äº†udpåŒ…ï¼Œä¸ºä»€ä¹ˆä¹Ÿèƒ½æ”¶åˆ°è¿”å›çš„icmpåŒ…å‘¢ï¼Ÿ <br></div>
                            <span class="time">2018-06-01 08:46</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">å‡ºé”™äº†å°±èƒ½äº†</p>
                                <p class="reply-time">2018-06-01 18:55</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/0f/f8/ba/14e05601.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">çº¦ä¹¦äºš</span>
                            </div>
                            <div class="bd">å·®é”™åŒ…ä¹Ÿå‡ºé—®é¢˜æ˜¯ä¸æ˜¯å°±æ‹‰åˆ°äº†ï¼Œçœ‹ä¸Šå±‚æ˜¯ä¸æ˜¯å®šæ—¶é‡å‘çš„åè®®äº†ï¼Ÿ<br> <br></div>
                            <span class="time">2018-06-01 07:56</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">æ˜¯çš„ï¼Œå·®é”™åŒ…ä¸ä¼šåœ¨å‘å·®é”™åŒ…</p>
                                <p class="reply-time">2018-06-01 18:11</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/12/9b/a8/6a391c66.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">LeonğŸ“·</span>
                            </div>
                            <div class="bd">è€å¸ˆï¼Œæœ€å¥½èƒ½å¤ŸæŠ“åŒ…æˆªå›¾ç»™å¤§å®¶çœ‹ï¼Œæœ‰å›¾æœ‰çœŸç›¸ï¼Œå¯æƒœç•™è¨€ä¸èƒ½å‘å›¾ç‰‡ï¼Œä¸ç„¶æˆ‘å°±æŠŠping å’Œtracerouteçš„åŒ…ç»†èŠ‚å‘å‡ºæ¥ç»™å¤§å®¶çœ‹çœ‹ï¼Œå“ˆå“ˆ <br></div>
                            <span class="time">2018-10-26 11:24</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">å¤§å”æ±Ÿå±±</span>
                            </div>
                            <div class="bd">ç©¿æ’ä¸€ä¸ªè¯é¢˜:æˆ‘åœ¨è™šæ‹Ÿæœºä¸Šé…ç½®æ¡¥æ¥ï¼Œç³»ç»Ÿæ˜¯ubuntuï¼ŒåŒä¸€ç½‘æ®µè®¾ç½®å¥½äº†ï¼Œå®Œæˆåubuntuèƒ½ä¸Šç½‘ï¼Œä½†æ˜¯pingå®¿ä¸»æœºä¸èƒ½é€špingé€šã€‚360ä¹Ÿå¸è½½äº†è¿˜æ˜¯ä¸æˆåŠŸã€‚æœ›å¤§ä½¬åœ¨åé¢ç¨å¾®ç‚¹æ‹¨ä¸€ä¸‹å°ç”Ÿï¼Œä¸èƒœæ„Ÿæ¿€ï¼Œè‹¥æ˜¯ä¹‹åå†æ·»åŠ è¿™ä¹ˆä¸€ä¸ªå†…å®¹é‚£å°±å†å¥½ä¸è¿‡äº†ã€‚ <br></div>
                            <span class="time">2018-06-01 23:14</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">windowsé˜²ç«å¢™ï¼Ÿè¿˜æœ‰æœ‰æ—¶å€™è™šæ‹ŸåŒ–è½¯ä»¶å»ºçš„é‚£ä¸ªæ¡¥ä¹Ÿä¼šå‡ºé—®é¢˜ï¼Œå¯ä»¥å°è¯•é‡æ–°å»ºé‚£ä¸ªæ¡¥</p>
                                <p class="reply-time">2018-06-02 18:19</p>
                            </div>
                            
                        </div>
                    </li>
                    


                </ul>
            </div>
        </div>
    </div>
</div>
</body>
</html>