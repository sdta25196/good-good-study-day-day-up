<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
          content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,viewport-fit=cover">
    <meta name="format-detection" content="telephone=no">
    <style type="text/css">

#watermark {

  position: relative;
  overflow: hidden;
}

#watermark .x {
  position: absolute;
  top: 800;
  left: 400;
  color: #3300ff;
  font-size: 50px;
  pointer-events: none;
  opacity:0.5;
  filter:Alpha(opacity=50);
  -webkit-transform: rotate(45deg);
  -moz-transform: rotate(45deg);
}
    </style>


    <style type="text/css">
 html{color:#333;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;text-rendering:optimizelegibility;font-family:Helvetica Neue,PingFang SC,Verdana,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,sans-serif}html.borderbox *,html.borderbox :after,html.borderbox :before{box-sizing:border-box}article,aside,blockquote,body,button,code,dd,details,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hr,input,legend,li,menu,nav,ol,p,pre,section,td,textarea,th,ul{margin:0;padding:0}article,aside,details,figcaption,figure,footer,header,menu,nav,section{display:block}audio,canvas,video{display:inline-block}body,button,input,select,textarea{font:300 1em/1.8 PingFang SC,Lantinghei SC,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,Helvetica,sans-serif}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}table{border-collapse:collapse;border-spacing:0}fieldset,img{border:0}blockquote{position:relative;color:#999;font-weight:400;border-left:1px solid #1abc9c;padding-left:1em;margin:1em 3em 1em 2em}@media only screen and (max-width:640px){blockquote{margin:1em 0}}abbr,acronym{border-bottom:1px dotted;font-variant:normal}abbr{cursor:help}del{text-decoration:line-through}address,caption,cite,code,dfn,em,th,var{font-style:normal;font-weight:400}ol,ul{list-style:none}caption,th{text-align:left}q:after,q:before{content:""}sub,sup{font-size:75%;line-height:0;position:relative}:root sub,:root sup{vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}a{color:#1abc9c}a:hover{text-decoration:underline}.typo a{border-bottom:1px solid #1abc9c}.typo a:hover{border-bottom-color:#555;color:#555}.typo a:hover,a,ins{text-decoration:none}.typo-u,u{text-decoration:underline}mark{background:#fffdd1;border-bottom:1px solid #ffedce;padding:2px;margin:0 5px}code,pre,pre tt{font-family:Courier,Courier New,monospace}pre{background:hsla(0,0%,97%,.7);border:1px solid #ddd;padding:1em 1.5em;display:block;-webkit-overflow-scrolling:touch}hr{border:none;border-bottom:1px solid #cfcfcf;margin-bottom:.8em;height:10px}.typo-small,figcaption,small{font-size:.9em;color:#888}b,strong{font-weight:700;color:#000}[draggable]{cursor:move}.clearfix:after,.clearfix:before{content:"";display:table}.clearfix:after{clear:both}.clearfix{zoom:1}.textwrap,.textwrap td,.textwrap th{word-wrap:break-word;word-break:break-all}.textwrap-table{table-layout:fixed}.serif{font-family:Palatino,Optima,Georgia,serif}.typo-dl,.typo-form,.typo-hr,.typo-ol,.typo-p,.typo-pre,.typo-table,.typo-ul,.typo dl,.typo form,.typo hr,.typo ol,.typo p,.typo pre,.typo table,.typo ul,blockquote{margin-bottom:1rem}h1,h2,h3,h4,h5,h6{font-family:PingFang SC,Helvetica Neue,Verdana,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,sans-serif;color:#000;line-height:1.35}.typo-h1,.typo-h2,.typo-h3,.typo-h4,.typo-h5,.typo-h6,.typo h1,.typo h2,.typo h3,.typo h4,.typo h5,.typo h6{margin-top:1.2em;margin-bottom:.6em;line-height:1.35}.typo-h1,.typo h1{font-size:2em}.typo-h2,.typo h2{font-size:1.8em}.typo-h3,.typo h3{font-size:1.6em}.typo-h4,.typo h4{font-size:1.4em}.typo-h5,.typo-h6,.typo h5,.typo h6{font-size:1.2em}.typo-ul,.typo ul{margin-left:1.3em;list-style:disc}.typo-ol,.typo ol{list-style:decimal;margin-left:1.9em}.typo-ol ol,.typo-ol ul,.typo-ul ol,.typo-ul ul,.typo li ol,.typo li ul{margin-bottom:.8em;margin-left:2em}.typo-ol ul,.typo-ul ul,.typo li ul{list-style:circle}.typo-table td,.typo-table th,.typo table caption,.typo table td,.typo table th{border:1px solid #ddd;padding:.5em 1em;color:#666}.typo-table th,.typo table th{background:#fbfbfb}.typo-table thead th,.typo table thead th{background:hsla(0,0%,95%,.7)}.typo table caption{border-bottom:none}.typo-input,.typo-textarea{-webkit-appearance:none;border-radius:0}.typo-em,.typo em,caption,legend{color:#000;font-weight:inherit}.typo-em{position:relative}.typo-em:after{position:absolute;top:.65em;left:0;width:100%;overflow:hidden;white-space:nowrap;content:"\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB"}.typo img{max-width:100%}.common-content{font-weight:400;color:#353535;line-height:1.75rem;white-space:normal;word-break:normal;font-size:1rem}.common-content img{display:block;max-width:100%;background-color:#eee}.common-content audio,.common-content video{width:100%;background-color:#eee}.common-content center,.common-content font{margin-top:1rem;display:inline-block}.common-content center{width:100%}.common-content pre{margin-top:1rem;padding-left:0;padding-right:0;position:relative;overflow:hidden}.common-content pre code{font-size:.8rem;font-family:Consolas,Liberation Mono,Menlo,monospace,Courier;display:block;width:100%;box-sizing:border-box;padding-left:1rem;padding-right:1rem;overflow-x:auto}.common-content hr{border:none;margin-top:1.5rem;margin-bottom:1.5rem;border-top:1px solid #f5f5f5;height:1px;background:none}.common-content b,.common-content h1,.common-content h2,.common-content h3,.common-content h4,.common-content h5,.common-content strong{font-weight:700}.common-content h1,.common-content h2{font-size:1.125rem;margin-bottom:.45rem}.common-content h3,.common-content h4,.common-content h5{font-size:1rem;margin-bottom:.45rem}.common-content p{font-weight:400;color:#353535;margin-top:.15rem}.common-content .orange{color:#ff5a05}.common-content .reference{font-size:1rem;color:#888}.custom-rich-content h1{margin-top:0;font-weight:400;font-size:15.25px;border-bottom:1px solid #eee;line-height:2.8}.custom-rich-content li,.custom-rich-content p{font-size:14px;color:#888;line-height:1.6}table.hljs-ln{margin-bottom:0;border-spacing:0;border-collapse:collapse}table.hljs-ln,table.hljs-ln tbody,table.hljs-ln td,table.hljs-ln tr{box-sizing:border-box}table.hljs-ln td{padding:0;border:0}table.hljs-ln td.hljs-ln-numbers{min-width:15px;color:rgba(27,31,35,.3);text-align:right;white-space:nowrap;cursor:pointer;user-select:none}table.hljs-ln td.hljs-ln-code,table.hljs-ln td.hljs-ln-numbers{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px;line-height:20px;vertical-align:top}table.hljs-ln td.hljs-ln-code{position:relative;padding-right:10px;padding-left:10px;overflow:visible;color:#24292e;word-wrap:normal;white-space:pre}video::-webkit-media-controls{overflow:hidden!important}video::-webkit-media-controls-enclosure{width:calc(100% + 32px);margin-left:auto}.button-cancel{color:#888;border:1px solid #888;border-radius:3px;margin-right:12px}.button-cancel,.button-primary{-ms-flex-positive:1;flex-grow:1;height:35px;display:inline-block;font-size:15px;text-align:center;line-height:36px}.button-primary{color:#fff;background-color:#ff5a05;border-radius:3px}@font-face{font-family:iconfont;src:url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.eot);src:url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.woff) format("woff"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.ttf) format("truetype"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.svg#iconfont) format("svg")}@font-face{font-family:player-font;src:url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.eot);src:url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.woff) format("woff"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.ttf) format("truetype"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.svg#player-font) format("svg")}.iconfont{font-family:iconfont!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-webkit-text-stroke-width:.2px;-moz-osx-font-smoothing:grayscale}html{background:#fff;min-height:100%;-webkit-tap-highlight-color:rgba(0,0,0,0)}body{width:100%}body.fixed{overflow:hidden;position:fixed;width:100vw;height:100vh}i{font-style:normal}a{word-wrap:break-word;-webkit-tap-highlight-color:rgba(0,0,0,0)}a:hover{text-decoration:none}.fade-enter-active,.fade-leave-active{transition:opacity .3s}.fade-enter,.fade-leave-to{opacity:0}.MathJax,.MathJax_CHTML,.MathJax_MathContainer,.MathJax_MathML,.MathJax_PHTML,.MathJax_PlainSource,.MathJax_SVG{outline:0}.ios-app-switch .js-audit{display:none}._loading_wrap_{position:fixed;width:100vw;height:100vh;top:50%;left:50%;transform:translate(-50%,-50%);z-index:999}._loading_div_class_,._loading_wrap_{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}._loading_div_class_{word-wrap:break-word;padding:.5rem .75rem;text-align:center;z-index:9999;font-size:.6rem;max-width:60%;color:#fff;border-radius:.25rem;-ms-flex-direction:column;flex-direction:column}._loading_div_class_ .message{color:#353535;font-size:16px;line-height:3}.spinner{animation:circle-rotator 1.4s linear infinite}.spinner *{line-height:0;box-sizing:border-box}@keyframes circle-rotator{0%{transform:rotate(0deg)}to{transform:rotate(270deg)}}.path{stroke-dasharray:187;stroke-dashoffset:0;transform-origin:center;animation:circle-dash 1.4s ease-in-out infinite,circle-colors 5.6s ease-in-out infinite}@keyframes circle-colors{0%{stroke:#ff5a05}to{stroke:#ff5a05}}@keyframes circle-dash{0%{stroke-dashoffset:187}50%{stroke-dashoffset:46.75;transform:rotate(135deg)}to{stroke-dashoffset:187;transform:rotate(450deg)}}.confirm-box-wrapper,.confirm-box-wrapper .mask{position:absolute;top:0;left:0;right:0;bottom:0}.confirm-box-wrapper .mask{background:rgba(0,0,0,.6)}.confirm-box-wrapper .confirm-box{position:fixed;top:50%;left:50%;width:267px;background:#fff;transform:translate(-50%,-50%);border-radius:7px}.confirm-box-wrapper .confirm-box .head{margin:0 18px;font-size:18px;text-align:center;line-height:65px;border-bottom:1px solid #d9d9d9}.confirm-box-wrapper .confirm-box .body{padding:18px;padding-bottom:0;color:#353535;font-size:12.5px;max-height:150px;overflow:auto}.confirm-box-wrapper .confirm-box .foot{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;padding:18px}.confirm-box-wrapper .confirm-box .foot .button-cancel{border:1px solid #d9d9d9}.hljs{display:block;overflow-x:auto;padding:.5em;color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}




    </style>
    <style type="text/css">
        .button-cancel[data-v-87ffcada]{color:#888;border:1px solid #888;border-radius:3px;margin-right:12px}.button-cancel[data-v-87ffcada],.button-primary[data-v-87ffcada]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;height:35px;display:inline-block;font-size:15px;text-align:center;line-height:36px}.button-primary[data-v-87ffcada]{color:#fff;background-color:#ff5a05;border-radius:3px}.pd[data-v-87ffcada]{padding-left:1.375rem;padding-right:1.375rem}.article[data-v-87ffcada]{max-width:70rem;margin:0 auto}.article .article-unavailable[data-v-87ffcada]{color:#fa8919;font-size:15px;font-weight:600;line-height:24px;border-radius:5px;padding:12px;background-color:#f6f7fb;margin-top:20px}.article .article-unavailable .iconfont[data-v-87ffcada]{font-size:12px}.article .main[data-v-87ffcada]{padding:1.25rem 0;margin-bottom:52px}.article-title[data-v-87ffcada]{color:#353535;font-weight:400;line-height:1.65rem;font-size:1.34375rem}.article-info[data-v-87ffcada]{color:#888;font-size:.9375rem;margin-top:1.0625rem}.article-content[data-v-87ffcada]{margin-top:1.0625rem}.article-content.android video[data-v-87ffcada]::-webkit-media-controls-fullscreen-button{display:none}.copyright[data-v-87ffcada]{color:#b2b2b2;padding-bottom:20px;margin-top:20px;font-size:13px}.audio-player[data-v-87ffcada]{width:100%;margin:20px 0}.to-comment[data-v-87ffcada]{overflow:hidden;padding-top:10px;margin-bottom:-30px}.to-comment a.button-primary[data-v-87ffcada]{float:right;height:20px;font-size:12px;line-height:20px;padding:4px 8px;cursor:pointer}.article-comments[data-v-87ffcada]{margin-top:2rem}.article-comments h2[data-v-87ffcada]{text-align:center;color:#888;position:relative;z-index:1;margin-bottom:1rem}.article-comments h2[data-v-87ffcada]:before{border-top:1px dotted #888;content:"";position:absolute;top:56%;left:0;width:100%;z-index:-1}.article-comments h2 span[data-v-87ffcada]{font-size:15.25px;font-weight:400;padding:0 1rem;background:#fff;display:inline-block}.article-sub-bottom[data-v-87ffcada]{z-index:10;cursor:pointer}.switch-btns[data-v-87ffcada]{height:76px;cursor:pointer;padding-top:24px;padding-bottom:24px;border-bottom:10px solid #f6f7fb;position:relative}.switch-btns[data-v-87ffcada]:before{content:" ";height:1px;background:#e8e8e8;position:absolute;top:0;left:0;-webkit-box-sizing:border-box;box-sizing:border-box;left:1.375rem;right:1.375rem}.switch-btns .btn[data-v-87ffcada]{height:38px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.switch-btns .btn .tag[data-v-87ffcada]{-webkit-box-flex:0;-ms-flex:0 0 62px;flex:0 0 62px;text-align:center;color:#888;font-size:14px;border-radius:10px;height:22px;line-height:22px;background:#f6f7fb;font-weight:400}.switch-btns .btn .txt[data-v-87ffcada]{margin-left:10px;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;color:#888;font-size:15px;height:22px;line-height:22px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:400}@media (max-width:769px){.article .breadcrumb[data-v-87ffcada]{padding-top:10px;padding-bottom:10px}}





    </style>

    <style type="text/css">
        .comment-item{list-style-position:inside;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;margin-bottom:1rem}.comment-item a{border-bottom:none}.comment-item .avatar{width:2.625rem;height:2.625rem;-ms-flex-negative:0;flex-shrink:0;border-radius:50%}.comment-item .info{margin-left:.5rem;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.comment-item .info .hd{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.comment-item .info .hd .username{color:#888;font-size:15.25px;font-weight:400;line-height:1.2}.comment-item .info .hd .control{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.comment-item .info .hd .control .btn-share{color:#888;font-size:.75rem;margin-right:1rem}.comment-item .info .hd .control .btn-praise{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:15.25px;text-decoration:none}.comment-item .info .hd .control .btn-praise i{color:#888;display:inline-block;font-size:.75rem;margin-right:.3rem;margin-top:-.01rem}.comment-item .info .hd .control .btn-praise i.on,.comment-item .info .hd .control .btn-praise span{color:#ff5a05}.comment-item .info .bd{color:#353535;font-size:15.25px;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6}.comment-item .info .time{color:#888;font-size:9px;line-height:1}.comment-item .info .reply .reply-hd{font-size:15.25px}.comment-item .info .reply .reply-hd span{margin-left:-12px;color:#888;font-weight:400}.comment-item .info .reply .reply-hd i{color:#ff5a05;font-size:15.25px}.comment-item .info .reply .reply-content{color:#353535;font-size:15.25px;font-weight:400;white-space:normal;word-break:break-all}.comment-item .info .reply .reply-time{color:#888;font-size:9px}




    </style>
</head>
<body>
<div id="app">


    <div data-v-87ffcada="" class="article" id="watermark">
        <p class="x">æ‰€æœ‰æœ€æ–°æå®¢æ—¶é—´è¯¾ç¨‹è¯·åŠ QQç¾¤170701297</p>
        <div data-v-87ffcada="" class="main main-app">
            <h1 data-v-87ffcada="" class="article-title pd">
                ç¬¬14è®²è®²HTTPåè®®ï¼šçœ‹ä¸ªæ–°é—»åŸæ¥è¿™ä¹ˆéº»çƒ¦
            </h1>
            <div data-v-87ffcada="" class="article-content typo common-content pd"><img data-v-87ffcada=""
                                                                                        src="https://static001.geekbang.org/resource/image/ae/76/aec72a7f805717076e7d52983f0d3376.jpg">


                <div data-v-87ffcada="" id="article-content" class="">
                    <div class="text">
                        <p>å‰é¢è®²è¿°å®Œ<strong>ä¼ è¾“å±‚</strong>ï¼Œæ¥ä¸‹æ¥å¼€å§‹è®²<strong>åº”ç”¨å±‚</strong>çš„åè®®ã€‚ä»å“ªé‡Œå¼€å§‹è®²å‘¢ï¼Œå°±ä»å’±ä»¬æœ€å¸¸ç”¨çš„HTTPåè®®å¼€å§‹ã€‚</p>
<p>HTTPåè®®ï¼Œå‡ ä¹æ˜¯æ¯ä¸ªäººä¸Šç½‘ç”¨çš„ç¬¬ä¸€ä¸ªåè®®ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å¾ˆå®¹æ˜“è¢«äººå¿½ç•¥çš„åè®®ã€‚</p>
<p>æ—¢ç„¶è¯´çœ‹æ–°é—»ï¼Œå’±ä»¬å°±å…ˆç™»å½• <a href="http://www.163.com">http://www.163.com</a> ã€‚</p>
<p><a href="http://www.163.com">http://www.163.com</a> æ˜¯ä¸ªURLï¼Œå«ä½œ<strong>ç»Ÿä¸€èµ„æºå®šä½ç¬¦</strong>ã€‚ä¹‹æ‰€ä»¥å«ç»Ÿä¸€ï¼Œæ˜¯å› ä¸ºå®ƒæ˜¯æœ‰æ ¼å¼çš„ã€‚HTTPç§°ä¸ºåè®®ï¼Œwww.163.comæ˜¯ä¸€ä¸ªåŸŸåï¼Œè¡¨ç¤ºäº’è”ç½‘ä¸Šçš„ä¸€ä¸ªä½ç½®ã€‚æœ‰çš„URLä¼šæœ‰æ›´è¯¦ç»†çš„ä½ç½®æ ‡è¯†ï¼Œä¾‹å¦‚ <a href="http://www.163.com/index.html">http://www.163.com/index.html</a> ã€‚æ­£æ˜¯å› ä¸ºè¿™ä¸ªä¸œè¥¿æ˜¯ç»Ÿä¸€çš„ï¼Œæ‰€ä»¥å½“ä½ æŠŠè¿™æ ·ä¸€ä¸ªå­—ç¬¦ä¸²è¾“å…¥åˆ°æµè§ˆå™¨çš„æ¡†é‡Œçš„æ—¶å€™ï¼Œæµè§ˆå™¨æ‰çŸ¥é“å¦‚ä½•è¿›è¡Œç»Ÿä¸€å¤„ç†ã€‚</p>
<h2 id="http-">HTTPè¯·æ±‚çš„å‡†å¤‡</h2>
<p>æµè§ˆå™¨ä¼šå°†www.163.comè¿™ä¸ªåŸŸåå‘é€ç»™DNSæœåŠ¡å™¨ï¼Œè®©å®ƒè§£æä¸ºIPåœ°å€ã€‚æœ‰å…³DNSçš„è¿‡ç¨‹ï¼Œå…¶å®éå¸¸å¤æ‚ï¼Œè¿™ä¸ªåœ¨åé¢ä¸“é—¨ä»‹ç»DNSçš„æ—¶å€™ï¼Œæˆ‘ä¼šè¯¦ç»†æè¿°ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆä¸ç®¡ï¼Œåæ­£å®ƒä¼šè¢«è§£ææˆä¸ºIPåœ°å€ã€‚é‚£æ¥ä¸‹æ¥æ˜¯å‘é€HTTPè¯·æ±‚å—ï¼Ÿ</p>
<p>ä¸æ˜¯çš„ï¼ŒHTTPæ˜¯åŸºäºTCPåè®®çš„ï¼Œå½“ç„¶æ˜¯è¦å…ˆå»ºç«‹TCPè¿æ¥äº†ï¼Œæ€ä¹ˆå»ºç«‹å‘¢ï¼Ÿè¿˜è®°å¾—ç¬¬11èŠ‚è®²è¿‡çš„ä¸‰æ¬¡æ¡æ‰‹å—ï¼Ÿ</p>
<p>ç›®å‰ä½¿ç”¨çš„HTTPåè®®å¤§éƒ¨åˆ†éƒ½æ˜¯1.1ã€‚åœ¨1.1çš„åè®®é‡Œé¢ï¼Œé»˜è®¤æ˜¯å¼€å¯äº†Keep-Aliveçš„ï¼Œè¿™æ ·å»ºç«‹çš„TCPè¿æ¥ï¼Œå°±å¯ä»¥åœ¨å¤šæ¬¡è¯·æ±‚ä¸­å¤ç”¨ã€‚</p><!-- [[[read_end]]] -->
<p>å­¦ä¹ äº†TCPä¹‹åï¼Œä½ åº”è¯¥çŸ¥é“ï¼ŒTCPçš„ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹ï¼Œè¿˜æ˜¯æŒºè´¹åŠ²çš„ã€‚å¦‚æœå¥½ä¸å®¹æ˜“å»ºç«‹äº†è¿æ¥ï¼Œç„¶åå°±åšäº†ä¸€ç‚¹å„¿äº‹æƒ…å°±ç»“æŸäº†ï¼Œæœ‰ç‚¹å„¿æµªè´¹äººåŠ›å’Œç‰©åŠ›ã€‚</p>
<h2 id="http-">HTTPè¯·æ±‚çš„æ„å»º</h2>
<p>å»ºç«‹äº†è¿æ¥ä»¥åï¼Œæµè§ˆå™¨å°±è¦å‘é€HTTPçš„è¯·æ±‚ã€‚</p>
<p>è¯·æ±‚çš„æ ¼å¼å°±åƒè¿™æ ·ã€‚</p>
<p><img src="https://static001.geekbang.org/resource/image/10/74/10ff27d1032bf32393195f23ef2f9874.jpg" alt="">  </p>
<p>HTTPçš„æŠ¥æ–‡å¤§æ¦‚åˆ†ä¸ºä¸‰å¤§éƒ¨åˆ†ã€‚ç¬¬ä¸€éƒ¨åˆ†æ˜¯<strong>è¯·æ±‚è¡Œ</strong>ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯è¯·æ±‚çš„<strong>é¦–éƒ¨</strong>ï¼Œç¬¬ä¸‰éƒ¨åˆ†æ‰æ˜¯è¯·æ±‚çš„<strong>æ­£æ–‡å®ä½“</strong>ã€‚</p>
<h3 id="-">ç¬¬ä¸€éƒ¨åˆ†ï¼šè¯·æ±‚è¡Œ</h3>
<p>åœ¨è¯·æ±‚è¡Œä¸­ï¼ŒURLå°±æ˜¯ <a href="http://www.163.com">http://www.163.com</a> ï¼Œç‰ˆæœ¬ä¸ºHTTP 1.1ã€‚è¿™é‡Œè¦è¯´ä¸€ä¸‹çš„ï¼Œå°±æ˜¯æ–¹æ³•ã€‚æ–¹æ³•æœ‰å‡ ç§ç±»å‹ã€‚</p>
<p>å¯¹äºè®¿é—®ç½‘é¡µæ¥è®²ï¼Œæœ€å¸¸ç”¨çš„ç±»å‹å°±æ˜¯<strong>GET</strong>ã€‚é¡¾åæ€ä¹‰ï¼ŒGETå°±æ˜¯å»æœåŠ¡å™¨è·å–ä¸€äº›èµ„æºã€‚å¯¹äºè®¿é—®ç½‘é¡µæ¥è®²ï¼Œè¦è·å–çš„èµ„æºå¾€å¾€æ˜¯ä¸€ä¸ªé¡µé¢ã€‚å…¶å®ä¹Ÿæœ‰å¾ˆå¤šå…¶ä»–çš„æ ¼å¼ï¼Œæ¯”å¦‚è¯´è¿”å›ä¸€ä¸ªJSONå­—ç¬¦ä¸²ï¼Œåˆ°åº•è¦è¿”å›ä»€ä¹ˆï¼Œæ˜¯ç”±æœåŠ¡å™¨ç«¯çš„å®ç°å†³å®šçš„ã€‚</p>
<p>ä¾‹å¦‚ï¼Œåœ¨äº‘è®¡ç®—ä¸­ï¼Œå¦‚æœæˆ‘ä»¬çš„æœåŠ¡å™¨ç«¯è¦æä¾›ä¸€ä¸ªåŸºäºHTTPåè®®çš„APIï¼Œè·å–æ‰€æœ‰äº‘ä¸»æœºçš„åˆ—è¡¨ï¼Œè¿™å°±ä¼šä½¿ç”¨GETæ–¹æ³•å¾—åˆ°ï¼Œè¿”å›çš„å¯èƒ½æ˜¯ä¸€ä¸ªJSONå­—ç¬¦ä¸²ã€‚å­—ç¬¦ä¸²é‡Œé¢æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œåˆ—è¡¨é‡Œé¢æ˜¯ä¸€é¡¹çš„äº‘ä¸»æœºçš„ä¿¡æ¯ã€‚</p>
<p>å¦å¤–ä¸€ç§ç±»å‹å«åš<strong>POST</strong>ã€‚å®ƒéœ€è¦ä¸»åŠ¨å‘Šè¯‰æœåŠ¡ç«¯ä¸€äº›ä¿¡æ¯ï¼Œè€Œéè·å–ã€‚è¦å‘Šè¯‰æœåŠ¡ç«¯ä»€ä¹ˆå‘¢ï¼Ÿä¸€èˆ¬ä¼šæ”¾åœ¨æ­£æ–‡é‡Œé¢ã€‚æ­£æ–‡å¯ä»¥æœ‰å„ç§å„æ ·çš„æ ¼å¼ã€‚å¸¸è§çš„æ ¼å¼ä¹Ÿæ˜¯JSONã€‚</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä¸‹ä¸€èŠ‚è¦è®²çš„æ”¯ä»˜åœºæ™¯ï¼Œå®¢æˆ·ç«¯å°±éœ€è¦æŠŠâ€œæˆ‘æ˜¯è°ï¼Ÿæˆ‘è¦æ”¯ä»˜å¤šå°‘ï¼Ÿæˆ‘è¦ä¹°å•¥ï¼Ÿâ€å‘Šè¯‰æœåŠ¡å™¨ï¼Œè¿™å°±éœ€è¦é€šè¿‡POSTæ–¹æ³•ã€‚</p>
<p>å†å¦‚ï¼Œåœ¨äº‘è®¡ç®—é‡Œï¼Œå¦‚æœæˆ‘ä»¬çš„æœåŠ¡å™¨ç«¯ï¼Œè¦æä¾›ä¸€ä¸ªåŸºäºHTTPåè®®çš„åˆ›å»ºäº‘ä¸»æœºçš„APIï¼Œä¹Ÿä¼šç”¨åˆ°POSTæ–¹æ³•ã€‚è¿™ä¸ªæ—¶å€™å¾€å¾€éœ€è¦å°†â€œæˆ‘è¦åˆ›å»ºå¤šå¤§çš„äº‘ä¸»æœºï¼Ÿå¤šå°‘CPUå¤šå°‘å†…å­˜ï¼Ÿå¤šå¤§ç¡¬ç›˜ï¼Ÿâ€è¿™äº›ä¿¡æ¯æ”¾åœ¨JSONå­—ç¬¦ä¸²é‡Œé¢ï¼Œé€šè¿‡POSTçš„æ–¹æ³•å‘Šè¯‰æœåŠ¡å™¨ç«¯ã€‚</p>
<p>è¿˜æœ‰ä¸€ç§ç±»å‹å«<strong>PUT</strong>ï¼Œå°±æ˜¯å‘æŒ‡å®šèµ„æºä½ç½®ä¸Šä¼ æœ€æ–°å†…å®¹ã€‚ä½†æ˜¯ï¼ŒHTTPçš„æœåŠ¡å™¨å¾€å¾€æ˜¯ä¸å…è®¸ä¸Šä¼ æ–‡ä»¶çš„ï¼Œæ‰€ä»¥PUTå’ŒPOSTå°±éƒ½å˜æˆäº†è¦ä¼ ç»™æœåŠ¡å™¨ä¸œè¥¿çš„æ–¹æ³•ã€‚</p>
<p>åœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œè¿™ä¸¤è€…è¿˜ä¼šæœ‰ç¨è®¸çš„åŒºåˆ«ã€‚POSTå¾€å¾€æ˜¯ç”¨æ¥åˆ›å»ºä¸€ä¸ªèµ„æºçš„ï¼Œè€ŒPUTå¾€å¾€æ˜¯ç”¨æ¥ä¿®æ”¹ä¸€ä¸ªèµ„æºçš„ã€‚</p>
<p>ä¾‹å¦‚ï¼Œäº‘ä¸»æœºå·²ç»åˆ›å»ºå¥½äº†ï¼Œæˆ‘æƒ³å¯¹è¿™ä¸ªäº‘ä¸»æœºæ‰“ä¸€ä¸ªæ ‡ç­¾ï¼Œè¯´æ˜è¿™ä¸ªäº‘ä¸»æœºæ˜¯ç”Ÿäº§ç¯å¢ƒçš„ï¼Œå¦å¤–ä¸€ä¸ªäº‘ä¸»æœºæ˜¯æµ‹è¯•ç¯å¢ƒçš„ã€‚é‚£æ€ä¹ˆä¿®æ”¹è¿™ä¸ªæ ‡ç­¾å‘¢ï¼Ÿå¾€å¾€å°±æ˜¯ç”¨PUTæ–¹æ³•ã€‚</p>
<p>å†æœ‰ä¸€ç§å¸¸è§çš„å°±æ˜¯<strong>DELETE</strong>ã€‚è¿™ä¸ªé¡¾åæ€ä¹‰å°±æ˜¯ç”¨æ¥åˆ é™¤èµ„æºçš„ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬è¦åˆ é™¤ä¸€ä¸ªäº‘ä¸»æœºï¼Œå°±ä¼šè°ƒç”¨DELETEæ–¹æ³•ã€‚</p>
<h3 id="-">ç¬¬äºŒéƒ¨åˆ†ï¼šé¦–éƒ¨å­—æ®µ</h3>
<p>è¯·æ±‚è¡Œä¸‹é¢å°±æ˜¯æˆ‘ä»¬çš„é¦–éƒ¨å­—æ®µã€‚é¦–éƒ¨æ˜¯key valueï¼Œé€šè¿‡å†’å·åˆ†éš”ã€‚è¿™é‡Œé¢ï¼Œå¾€å¾€ä¿å­˜äº†ä¸€äº›éå¸¸é‡è¦çš„å­—æ®µã€‚</p>
<p>ä¾‹å¦‚ï¼Œ<strong>Accept-Charset</strong>ï¼Œè¡¨ç¤º<strong>å®¢æˆ·ç«¯å¯ä»¥æ¥å—çš„å­—ç¬¦é›†</strong>ã€‚é˜²æ­¢ä¼ è¿‡æ¥çš„æ˜¯å¦å¤–çš„å­—ç¬¦é›†ï¼Œä»è€Œå¯¼è‡´å‡ºç°ä¹±ç ã€‚</p>
<p>å†å¦‚ï¼Œ<strong>Content-Type</strong>æ˜¯æŒ‡<strong>æ­£æ–‡çš„æ ¼å¼</strong>ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬è¿›è¡ŒPOSTçš„è¯·æ±‚ï¼Œå¦‚æœæ­£æ–‡æ˜¯JSONï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±åº”è¯¥å°†è¿™ä¸ªå€¼è®¾ç½®ä¸ºJSONã€‚</p>
<p>è¿™é‡Œéœ€è¦é‡ç‚¹è¯´ä¸€ä¸‹çš„å°±æ˜¯<strong>ç¼“å­˜</strong>ã€‚ä¸ºå•¥è¦ä½¿ç”¨ç¼“å­˜å‘¢ï¼Ÿé‚£æ˜¯å› ä¸ºä¸€ä¸ªéå¸¸å¤§çš„é¡µé¢æœ‰å¾ˆå¤šä¸œè¥¿ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘æµè§ˆä¸€ä¸ªå•†å“çš„è¯¦æƒ…ï¼Œé‡Œé¢æœ‰è¿™ä¸ªå•†å“çš„ä»·æ ¼ã€åº“å­˜ã€å±•ç¤ºå›¾ç‰‡ã€ä½¿ç”¨æ‰‹å†Œç­‰ç­‰ã€‚å•†å“çš„å±•ç¤ºå›¾ç‰‡ä¼šä¿æŒè¾ƒé•¿æ—¶é—´ä¸å˜ï¼Œè€Œåº“å­˜ä¼šæ ¹æ®ç”¨æˆ·è´­ä¹°çš„æƒ…å†µç»å¸¸æ”¹å˜ã€‚å¦‚æœå›¾ç‰‡éå¸¸å¤§ï¼Œè€Œåº“å­˜æ•°éå¸¸å°ï¼Œå¦‚æœæˆ‘ä»¬æ¯æ¬¡è¦æ›´æ–°æ•°æ®çš„æ—¶å€™éƒ½è¦åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼Œå¯¹äºæœåŠ¡å™¨çš„å‹åŠ›å°±ä¼šå¾ˆå¤§ã€‚</p>
<p>å¯¹äºè¿™ç§é«˜å¹¶å‘åœºæ™¯ä¸‹çš„ç³»ç»Ÿï¼Œåœ¨çœŸæ­£çš„ä¸šåŠ¡é€»è¾‘ä¹‹å‰ï¼Œéƒ½éœ€è¦æœ‰ä¸ªæ¥å…¥å±‚ï¼Œå°†è¿™äº›é™æ€èµ„æºçš„è¯·æ±‚æ‹¦åœ¨æœ€å¤–é¢ã€‚</p>
<p>è¿™ä¸ªæ¶æ„çš„å›¾å°±åƒè¿™æ ·ã€‚</p>
<p><img src="https://static001.geekbang.org/resource/image/c8/ac/c81af7a52305f7de27e32e34a02d0eac.jpg" alt=""></p>
<p>å…¶ä¸­DNSã€CDNæˆ‘åœ¨åé¢çš„ç« èŠ‚ä¼šè®²ã€‚å’Œè¿™ä¸€èŠ‚å…³ç³»æ¯”è¾ƒå¤§çš„å°±æ˜¯Nginxè¿™ä¸€å±‚ï¼Œå®ƒå¦‚ä½•å¤„ç†HTTPåè®®å‘¢ï¼Ÿå¯¹äºé™æ€èµ„æºï¼Œæœ‰Vanishç¼“å­˜å±‚ã€‚å½“ç¼“å­˜è¿‡æœŸçš„æ—¶å€™ï¼Œæ‰ä¼šè®¿é—®çœŸæ­£çš„Tomcatåº”ç”¨é›†ç¾¤ã€‚</p>
<p>åœ¨HTTPå¤´é‡Œé¢ï¼Œ<strong>Cache-control</strong>æ˜¯ç”¨æ¥<strong>æ§åˆ¶ç¼“å­˜</strong>çš„ã€‚å½“å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚ä¸­åŒ…å«max-ageæŒ‡ä»¤æ—¶ï¼Œå¦‚æœåˆ¤å®šç¼“å­˜å±‚ä¸­ï¼Œèµ„æºçš„ç¼“å­˜æ—¶é—´æ•°å€¼æ¯”æŒ‡å®šæ—¶é—´çš„æ•°å€¼å°ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯å¯ä»¥æ¥å—ç¼“å­˜çš„èµ„æºï¼›å½“æŒ‡å®šmax-ageå€¼ä¸º0ï¼Œé‚£ä¹ˆç¼“å­˜å±‚é€šå¸¸éœ€è¦å°†è¯·æ±‚è½¬å‘ç»™åº”ç”¨é›†ç¾¤ã€‚</p>
<p>å¦å¤–ï¼Œ<strong>If-Modified-Since</strong>ä¹Ÿæ˜¯ä¸€ä¸ªå…³äºç¼“å­˜çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæœåŠ¡å™¨çš„èµ„æºåœ¨æŸä¸ªæ—¶é—´ä¹‹åæ›´æ–°äº†ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯å°±åº”è¯¥ä¸‹è½½æœ€æ–°çš„èµ„æºï¼›å¦‚æœæ²¡æœ‰æ›´æ–°ï¼ŒæœåŠ¡ç«¯ä¼šè¿”å›â€œ304 Not Modifiedâ€çš„å“åº”ï¼Œé‚£å®¢æˆ·ç«¯å°±ä¸ç”¨ä¸‹è½½äº†ï¼Œä¹Ÿä¼šèŠ‚çœå¸¦å®½ã€‚</p>
<p>åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬ä»…ä»…æ˜¯æ‹¼å‡‘èµ·äº†HTTPè¯·æ±‚çš„æŠ¥æ–‡æ ¼å¼ï¼Œæ¥ä¸‹æ¥ï¼Œæµè§ˆå™¨ä¼šæŠŠå®ƒäº¤ç»™ä¸‹ä¸€å±‚ä¼ è¾“å±‚ã€‚æ€ä¹ˆäº¤ç»™ä¼ è¾“å±‚å‘¢ï¼Ÿå…¶å®ä¹Ÿæ— éæ˜¯ç”¨Socketè¿™äº›ä¸œè¥¿ï¼Œåªä¸è¿‡ç”¨çš„æµè§ˆå™¨é‡Œï¼Œè¿™äº›ç¨‹åºä¸éœ€è¦ä½ è‡ªå·±å†™ï¼Œæœ‰äººå·²ç»å¸®ä½ å†™å¥½äº†ã€‚</p>
<h2 id="http-">HTTPè¯·æ±‚çš„å‘é€</h2>
<p>HTTPåè®®æ˜¯åŸºäºTCPåè®®çš„ï¼Œæ‰€ä»¥å®ƒä½¿ç”¨é¢å‘è¿æ¥çš„æ–¹å¼å‘é€è¯·æ±‚ï¼Œé€šè¿‡streamäºŒè¿›åˆ¶æµçš„æ–¹å¼ä¼ ç»™å¯¹æ–¹ã€‚å½“ç„¶ï¼Œåˆ°äº†TCPå±‚ï¼Œå®ƒä¼šæŠŠäºŒè¿›åˆ¶æµå˜æˆä¸€ä¸ªçš„æŠ¥æ–‡æ®µå‘é€ç»™æœåŠ¡å™¨ã€‚</p>
<p>åœ¨å‘é€ç»™æ¯ä¸ªæŠ¥æ–‡æ®µçš„æ—¶å€™ï¼Œéƒ½éœ€è¦å¯¹æ–¹æœ‰ä¸€ä¸ªå›åº”ACKï¼Œæ¥ä¿è¯æŠ¥æ–‡å¯é åœ°åˆ°è¾¾äº†å¯¹æ–¹ã€‚å¦‚æœæ²¡æœ‰å›åº”ï¼Œé‚£ä¹ˆTCPè¿™ä¸€å±‚ä¼šè¿›è¡Œé‡æ–°ä¼ è¾“ï¼Œç›´åˆ°å¯ä»¥åˆ°è¾¾ã€‚åŒä¸€ä¸ªåŒ…æœ‰å¯èƒ½è¢«ä¼ äº†å¥½å¤šæ¬¡ï¼Œä½†æ˜¯HTTPè¿™ä¸€å±‚ä¸éœ€è¦çŸ¥é“è¿™ä¸€ç‚¹ï¼Œå› ä¸ºæ˜¯TCPè¿™ä¸€å±‚åœ¨åŸ‹å¤´è‹¦å¹²ã€‚</p>
<p>TCPå±‚å‘é€æ¯ä¸€ä¸ªæŠ¥æ–‡çš„æ—¶å€™ï¼Œéƒ½éœ€è¦åŠ ä¸Šè‡ªå·±çš„åœ°å€ï¼ˆå³æºåœ°å€ï¼‰å’Œå®ƒæƒ³è¦å»çš„åœ°æ–¹ï¼ˆå³ç›®æ ‡åœ°å€ï¼‰ï¼Œå°†è¿™ä¸¤ä¸ªä¿¡æ¯æ”¾åˆ°IPå¤´é‡Œé¢ï¼Œäº¤ç»™IPå±‚è¿›è¡Œä¼ è¾“ã€‚</p>
<p>IPå±‚éœ€è¦æŸ¥çœ‹ç›®æ ‡åœ°å€å’Œè‡ªå·±æ˜¯å¦æ˜¯åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘ã€‚å¦‚æœæ˜¯ï¼Œå°±å‘é€ARPåè®®æ¥è¯·æ±‚è¿™ä¸ªç›®æ ‡åœ°å€å¯¹åº”çš„MACåœ°å€ï¼Œç„¶åå°†æºMACå’Œç›®æ ‡MACæ”¾å…¥MACå¤´ï¼Œå‘é€å‡ºå»å³å¯ï¼›å¦‚æœä¸åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘ï¼Œå°±éœ€è¦å‘é€åˆ°ç½‘å…³ï¼Œè¿˜è¦éœ€è¦å‘é€ARPåè®®ï¼Œæ¥è·å–ç½‘å…³çš„MACåœ°å€ï¼Œç„¶åå°†æºMACå’Œç½‘å…³MACæ”¾å…¥MACå¤´ï¼Œå‘é€å‡ºå»ã€‚</p>
<p>ç½‘å…³æ”¶åˆ°åŒ…å‘ç°MACç¬¦åˆï¼Œå–å‡ºç›®æ ‡IPåœ°å€ï¼Œæ ¹æ®è·¯ç”±åè®®æ‰¾åˆ°ä¸‹ä¸€è·³çš„è·¯ç”±å™¨ï¼Œè·å–ä¸‹ä¸€è·³è·¯ç”±å™¨çš„MACåœ°å€ï¼Œå°†åŒ…å‘ç»™ä¸‹ä¸€è·³è·¯ç”±å™¨ã€‚</p>
<p>è¿™æ ·è·¯ç”±å™¨ä¸€è·³ä¸€è·³ç»ˆäºåˆ°è¾¾ç›®æ ‡çš„å±€åŸŸç½‘ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæœ€åä¸€è·³çš„è·¯ç”±å™¨èƒ½å¤Ÿå‘ç°ï¼Œç›®æ ‡åœ°å€å°±åœ¨è‡ªå·±çš„æŸä¸€ä¸ªå‡ºå£çš„å±€åŸŸç½‘ä¸Šã€‚äºæ˜¯ï¼Œåœ¨è¿™ä¸ªå±€åŸŸç½‘ä¸Šå‘é€ARPï¼Œè·å¾—è¿™ä¸ªç›®æ ‡åœ°å€çš„MACåœ°å€ï¼Œå°†åŒ…å‘å‡ºå»ã€‚</p>
<p>ç›®æ ‡çš„æœºå™¨å‘ç°MACåœ°å€ç¬¦åˆï¼Œå°±å°†åŒ…æ”¶èµ·æ¥ï¼›å‘ç°IPåœ°å€ç¬¦åˆï¼Œæ ¹æ®IPå¤´ä¸­åè®®é¡¹ï¼ŒçŸ¥é“è‡ªå·±ä¸Šä¸€å±‚æ˜¯TCPåè®®ï¼Œäºæ˜¯è§£æTCPçš„å¤´ï¼Œé‡Œé¢æœ‰åºåˆ—å·ï¼Œéœ€è¦çœ‹ä¸€çœ‹è¿™ä¸ªåºåˆ—åŒ…æ˜¯ä¸æ˜¯æˆ‘è¦çš„ï¼Œå¦‚æœæ˜¯å°±æ”¾å…¥ç¼“å­˜ä¸­ç„¶åè¿”å›ä¸€ä¸ªACKï¼Œå¦‚æœä¸æ˜¯å°±ä¸¢å¼ƒã€‚</p>
<p>TCPå¤´é‡Œé¢è¿˜æœ‰ç«¯å£å·ï¼ŒHTTPçš„æœåŠ¡å™¨æ­£åœ¨ç›‘å¬è¿™ä¸ªç«¯å£å·ã€‚äºæ˜¯ï¼Œç›®æ ‡æœºå™¨è‡ªç„¶çŸ¥é“æ˜¯HTTPæœåŠ¡å™¨è¿™ä¸ªè¿›ç¨‹æƒ³è¦è¿™ä¸ªåŒ…ï¼Œäºæ˜¯å°†åŒ…å‘ç»™HTTPæœåŠ¡å™¨ã€‚HTTPæœåŠ¡å™¨çš„è¿›ç¨‹çœ‹åˆ°ï¼ŒåŸæ¥è¿™ä¸ªè¯·æ±‚æ˜¯è¦è®¿é—®ä¸€ä¸ªç½‘é¡µï¼Œäºæ˜¯å°±æŠŠè¿™ä¸ªç½‘é¡µå‘ç»™å®¢æˆ·ç«¯ã€‚</p>
<h2 id="http-">HTTPè¿”å›çš„æ„å»º</h2>
<p>HTTPçš„è¿”å›æŠ¥æ–‡ä¹Ÿæ˜¯æœ‰ä¸€å®šæ ¼å¼çš„ã€‚è¿™ä¹Ÿæ˜¯åŸºäºHTTP 1.1çš„ã€‚</p>
<p><img src="https://static001.geekbang.org/resource/image/1c/c1/1c2cfd4326d0dfca652ac8501321fac1.jpg" alt=""></p>
<p>çŠ¶æ€ç ä¼šååº”HTTPè¯·æ±‚çš„ç»“æœã€‚â€œ200â€æ„å‘³ç€å¤§å‰å¤§åˆ©ï¼›è€Œæˆ‘ä»¬æœ€ä¸æƒ³è§çš„ï¼Œå°±æ˜¯â€œ404â€ï¼Œä¹Ÿå°±æ˜¯â€œæœåŠ¡ç«¯æ— æ³•å“åº”è¿™ä¸ªè¯·æ±‚â€ã€‚ç„¶åï¼ŒçŸ­è¯­ä¼šå¤§æ¦‚è¯´ä¸€ä¸‹åŸå› ã€‚</p>
<p>æ¥ä¸‹æ¥æ˜¯è¿”å›é¦–éƒ¨çš„<strong>key value</strong>ã€‚</p>
<p>è¿™é‡Œé¢ï¼Œ<strong>Retry-After</strong>è¡¨ç¤ºï¼Œå‘Šè¯‰å®¢æˆ·ç«¯åº”è¯¥åœ¨å¤šé•¿æ—¶é—´ä»¥åå†æ¬¡å°è¯•ä¸€ä¸‹ã€‚â€œ503é”™è¯¯â€æ˜¯è¯´â€œæœåŠ¡æš‚æ—¶ä¸å†å’Œè¿™ä¸ªå€¼é…åˆä½¿ç”¨â€ã€‚</p>
<p>åœ¨è¿”å›çš„å¤´éƒ¨é‡Œé¢ä¹Ÿä¼šæœ‰<strong>Content-Type</strong>ï¼Œè¡¨ç¤ºè¿”å›çš„æ˜¯HTMLï¼Œè¿˜æ˜¯JSONã€‚</p>
<p>æ„é€ å¥½äº†è¿”å›çš„HTTPæŠ¥æ–‡ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æŠŠè¿™ä¸ªæŠ¥æ–‡å‘é€å‡ºå»ã€‚è¿˜æ˜¯äº¤ç»™Socketå»å‘é€ï¼Œè¿˜æ˜¯äº¤ç»™TCPå±‚ï¼Œè®©TCPå±‚å°†è¿”å›çš„HTMLï¼Œä¹Ÿåˆ†æˆä¸€ä¸ªä¸ªå°çš„æ®µï¼Œå¹¶ä¸”ä¿è¯æ¯ä¸ªæ®µéƒ½å¯é åˆ°è¾¾ã€‚</p>
<p>è¿™äº›æ®µåŠ ä¸ŠTCPå¤´åä¼šäº¤ç»™IPå±‚ï¼Œç„¶åæŠŠåˆšæ‰çš„å‘é€è¿‡ç¨‹åå‘èµ°ä¸€éã€‚è™½ç„¶ä¸¤æ¬¡ä¸ä¸€å®šèµ°ç›¸åŒçš„è·¯å¾„ï¼Œä½†æ˜¯é€»è¾‘è¿‡ç¨‹æ˜¯ä¸€æ ·çš„ï¼Œä¸€ç›´åˆ°è¾¾å®¢æˆ·ç«¯ã€‚</p>
<p>å®¢æˆ·ç«¯å‘ç°MACåœ°å€ç¬¦åˆã€IPåœ°å€ç¬¦åˆï¼Œäºæ˜¯å°±ä¼šäº¤ç»™TCPå±‚ã€‚æ ¹æ®åºåˆ—å·çœ‹æ˜¯ä¸æ˜¯è‡ªå·±è¦çš„æŠ¥æ–‡æ®µï¼Œå¦‚æœæ˜¯ï¼Œåˆ™ä¼šæ ¹æ®TCPå¤´ä¸­çš„ç«¯å£å·ï¼Œå‘ç»™ç›¸åº”çš„è¿›ç¨‹ã€‚è¿™ä¸ªè¿›ç¨‹å°±æ˜¯æµè§ˆå™¨ï¼Œæµè§ˆå™¨ä½œä¸ºå®¢æˆ·ç«¯ä¹Ÿåœ¨ç›‘å¬æŸä¸ªç«¯å£ã€‚</p>
<p>å½“æµè§ˆå™¨æ‹¿åˆ°äº†HTTPçš„æŠ¥æ–‡ã€‚å‘ç°è¿”å›â€œ200â€ï¼Œä¸€åˆ‡æ­£å¸¸ï¼Œäºæ˜¯å°±ä»æ­£æ–‡ä¸­å°†HTMLæ‹¿å‡ºæ¥ã€‚HTMLæ˜¯ä¸€ä¸ªæ ‡å‡†çš„ç½‘é¡µæ ¼å¼ã€‚æµè§ˆå™¨åªè¦æ ¹æ®è¿™ä¸ªæ ¼å¼ï¼Œå±•ç¤ºå‡ºä¸€ä¸ªç»šä¸½å¤šå½©çš„ç½‘é¡µã€‚</p>
<p>è¿™å°±æ˜¯ä¸€ä¸ªæ­£å¸¸çš„HTTPè¯·æ±‚å’Œè¿”å›çš„å®Œæ•´è¿‡ç¨‹ã€‚</p>
<h2 id="http-2-0">HTTP 2.0</h2>
<p>å½“ç„¶HTTPåè®®ä¹Ÿåœ¨ä¸æ–­åœ°è¿›åŒ–è¿‡ç¨‹ä¸­ï¼Œåœ¨HTTP1.1åŸºç¡€ä¸Šä¾¿æœ‰äº†HTTP 2.0ã€‚</p>
<p>HTTP 1.1åœ¨åº”ç”¨å±‚ä»¥çº¯æ–‡æœ¬çš„å½¢å¼è¿›è¡Œé€šä¿¡ã€‚æ¯æ¬¡é€šä¿¡éƒ½è¦å¸¦å®Œæ•´çš„HTTPçš„å¤´ï¼Œè€Œä¸”ä¸è€ƒè™‘pipelineæ¨¡å¼çš„è¯ï¼Œæ¯æ¬¡çš„è¿‡ç¨‹æ€»æ˜¯åƒä¸Šé¢æè¿°çš„é‚£æ ·ä¸€å»ä¸€å›ã€‚è¿™æ ·åœ¨å®æ—¶æ€§ã€å¹¶å‘æ€§ä¸Šéƒ½å­˜åœ¨é—®é¢˜ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼ŒHTTP 2.0ä¼šå¯¹HTTPçš„å¤´è¿›è¡Œä¸€å®šçš„å‹ç¼©ï¼Œå°†åŸæ¥æ¯æ¬¡éƒ½è¦æºå¸¦çš„å¤§é‡key  valueåœ¨ä¸¤ç«¯å»ºç«‹ä¸€ä¸ªç´¢å¼•è¡¨ï¼Œå¯¹ç›¸åŒçš„å¤´åªå‘é€ç´¢å¼•è¡¨ä¸­çš„ç´¢å¼•ã€‚</p>
<p>å¦å¤–ï¼ŒHTTP 2.0åè®®å°†ä¸€ä¸ªTCPçš„è¿æ¥ä¸­ï¼Œåˆ‡åˆ†æˆå¤šä¸ªæµï¼Œæ¯ä¸ªæµéƒ½æœ‰è‡ªå·±çš„IDï¼Œè€Œä¸”æµå¯ä»¥æ˜¯å®¢æˆ·ç«¯å‘å¾€æœåŠ¡ç«¯ï¼Œä¹Ÿå¯ä»¥æ˜¯æœåŠ¡ç«¯å‘å¾€å®¢æˆ·ç«¯ã€‚å®ƒå…¶å®åªæ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„é€šé“ã€‚æµæ˜¯æœ‰ä¼˜å…ˆçº§çš„ã€‚</p>
<p>HTTP 2.0è¿˜å°†æ‰€æœ‰çš„ä¼ è¾“ä¿¡æ¯åˆ†å‰²ä¸ºæ›´å°çš„æ¶ˆæ¯å’Œå¸§ï¼Œå¹¶å¯¹å®ƒä»¬é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼ç¼–ç ã€‚å¸¸è§çš„å¸§æœ‰<strong>Headerå¸§</strong>ï¼Œç”¨äºä¼ è¾“Headerå†…å®¹ï¼Œå¹¶ä¸”ä¼šå¼€å¯ä¸€ä¸ªæ–°çš„æµã€‚å†å°±æ˜¯<strong>Dataå¸§</strong>ï¼Œç”¨æ¥ä¼ è¾“æ­£æ–‡å®ä½“ã€‚å¤šä¸ªDataå¸§å±äºåŒä¸€ä¸ªæµã€‚</p>
<p>é€šè¿‡è¿™ä¸¤ç§æœºåˆ¶ï¼ŒHTTP 2.0çš„å®¢æˆ·ç«¯å¯ä»¥å°†å¤šä¸ªè¯·æ±‚åˆ†åˆ°ä¸åŒçš„æµä¸­ï¼Œç„¶åå°†è¯·æ±‚å†…å®¹æ‹†æˆå¸§ï¼Œè¿›è¡ŒäºŒè¿›åˆ¶ä¼ è¾“ã€‚è¿™äº›å¸§å¯ä»¥æ‰“æ•£ä¹±åºå‘é€ï¼Œ ç„¶åæ ¹æ®æ¯ä¸ªå¸§é¦–éƒ¨çš„æµæ ‡è¯†ç¬¦é‡æ–°ç»„è£…ï¼Œå¹¶ä¸”å¯ä»¥æ ¹æ®ä¼˜å…ˆçº§ï¼Œå†³å®šä¼˜å…ˆå¤„ç†å“ªä¸ªæµçš„æ•°æ®ã€‚</p>
<p>æˆ‘ä»¬æ¥ä¸¾ä¸€ä¸ªä¾‹å­ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬çš„ä¸€ä¸ªé¡µé¢è¦å‘é€ä¸‰ä¸ªç‹¬ç«‹çš„è¯·æ±‚ï¼Œä¸€ä¸ªè·å–cssï¼Œä¸€ä¸ªè·å–jsï¼Œä¸€ä¸ªè·å–å›¾ç‰‡jpgã€‚å¦‚æœä½¿ç”¨HTTP 1.1å°±æ˜¯ä¸²è¡Œçš„ï¼Œä½†æ˜¯å¦‚æœä½¿ç”¨HTTP 2.0ï¼Œå°±å¯ä»¥åœ¨ä¸€ä¸ªè¿æ¥é‡Œï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½å¯ä»¥åŒæ—¶å‘é€å¤šä¸ªè¯·æ±‚æˆ–å›åº”ï¼Œè€Œä¸”ä¸ç”¨æŒ‰ç…§é¡ºåºä¸€å¯¹ä¸€å¯¹åº”ã€‚</p>
<p><img src="https://static001.geekbang.org/resource/image/0b/7a/0bc51f8f887aae04ef89a1a88cb5a17a.jpg" alt=""></p>
<p>HTTP 2.0å…¶å®æ˜¯å°†ä¸‰ä¸ªè¯·æ±‚å˜æˆä¸‰ä¸ªæµï¼Œå°†æ•°æ®åˆ†æˆå¸§ï¼Œä¹±åºå‘é€åˆ°ä¸€ä¸ªTCPè¿æ¥ä¸­ã€‚</p>
<p><img src="https://static001.geekbang.org/resource/image/03/dd/03d4a216c024a9e761ed43c6787bf7dd.jpg" alt="">  </p>
<p>HTTP 2.0æˆåŠŸè§£å†³äº†HTTP 1.1çš„é˜Ÿé¦–é˜»å¡é—®é¢˜ï¼ŒåŒæ—¶ï¼Œä¹Ÿä¸éœ€è¦é€šè¿‡HTTP 1.xçš„pipelineæœºåˆ¶ç”¨å¤šæ¡TCPè¿æ¥æ¥å®ç°å¹¶è¡Œè¯·æ±‚ä¸å“åº”ï¼›å‡å°‘äº†TCPè¿æ¥æ•°å¯¹æœåŠ¡å™¨æ€§èƒ½çš„å½±å“ï¼ŒåŒæ—¶å°†é¡µé¢çš„å¤šä¸ªæ•°æ®cssã€jsã€ jpgç­‰é€šè¿‡ä¸€ä¸ªæ•°æ®é“¾æ¥è¿›è¡Œä¼ è¾“ï¼Œèƒ½å¤ŸåŠ å¿«é¡µé¢ç»„ä»¶çš„ä¼ è¾“é€Ÿåº¦ã€‚</p>
<h2 id="quic-">QUICåè®®çš„â€œåŸä¼šç©â€</h2>
<p>HTTP 2.0è™½ç„¶å¤§å¤§å¢åŠ äº†å¹¶å‘æ€§ï¼Œä½†è¿˜æ˜¯æœ‰é—®é¢˜çš„ã€‚å› ä¸ºHTTP 2.0ä¹Ÿæ˜¯åŸºäºTCPåè®®çš„ï¼ŒTCPåè®®åœ¨å¤„ç†åŒ…æ—¶æ˜¯æœ‰ä¸¥æ ¼é¡ºåºçš„ã€‚</p>
<p>å½“å…¶ä¸­ä¸€ä¸ªæ•°æ®åŒ…é‡åˆ°é—®é¢˜ï¼ŒTCPè¿æ¥éœ€è¦ç­‰å¾…è¿™ä¸ªåŒ…å®Œæˆé‡ä¼ ä¹‹åæ‰èƒ½ç»§ç»­è¿›è¡Œã€‚è™½ç„¶HTTP 2.0é€šè¿‡å¤šä¸ªstreamï¼Œä½¿å¾—é€»è¾‘ä¸Šä¸€ä¸ªTCPè¿æ¥ä¸Šçš„å¹¶è¡Œå†…å®¹ï¼Œè¿›è¡Œå¤šè·¯æ•°æ®çš„ä¼ è¾“ï¼Œç„¶è€Œè¿™ä¸­é—´å¹¶æ²¡æœ‰å…³è”çš„æ•°æ®ã€‚ä¸€å‰ä¸€åï¼Œå‰é¢stream 2çš„å¸§æ²¡æœ‰æ”¶åˆ°ï¼Œåé¢stream 1çš„å¸§ä¹Ÿä¼šå› æ­¤é˜»å¡ã€‚</p>
<p>äºæ˜¯ï¼Œå°±åˆåˆ°äº†ä»TCPåˆ‡æ¢åˆ°UDPï¼Œè¿›è¡Œâ€œåŸä¼šç©â€çš„æ—¶å€™äº†ã€‚è¿™å°±æ˜¯Googleçš„QUICåè®®ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹å®ƒæ˜¯å¦‚ä½•â€œåŸä¼šç©â€çš„ã€‚</p>
<h3 id="-">æœºåˆ¶ä¸€ï¼šè‡ªå®šä¹‰è¿æ¥æœºåˆ¶</h3>
<p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œä¸€æ¡TCPè¿æ¥æ˜¯ç”±å››å…ƒç»„æ ‡è¯†çš„ï¼Œåˆ†åˆ«æ˜¯æº IPã€æºç«¯å£ã€ç›®çš„ IPã€ç›®çš„ç«¯å£ã€‚ä¸€æ—¦ä¸€ä¸ªå…ƒç´ å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå°±éœ€è¦æ–­å¼€é‡è¿ï¼Œé‡æ–°è¿æ¥ã€‚åœ¨ç§»åŠ¨äº’è”æƒ…å†µä¸‹ï¼Œå½“æ‰‹æœºä¿¡å·ä¸ç¨³å®šæˆ–è€…åœ¨WIFIå’Œ ç§»åŠ¨ç½‘ç»œåˆ‡æ¢æ—¶ï¼Œéƒ½ä¼šå¯¼è‡´é‡è¿ï¼Œä»è€Œè¿›è¡Œå†æ¬¡çš„ä¸‰æ¬¡æ¡æ‰‹ï¼Œå¯¼è‡´ä¸€å®šçš„æ—¶å»¶ã€‚</p>
<p>è¿™åœ¨TCPæ˜¯æ²¡æœ‰åŠæ³•çš„ï¼Œä½†æ˜¯åŸºäºUDPï¼Œå°±å¯ä»¥åœ¨QUICè‡ªå·±çš„é€»è¾‘é‡Œé¢ç»´æŠ¤è¿æ¥çš„æœºåˆ¶ï¼Œä¸å†ä»¥å››å…ƒç»„æ ‡è¯†ï¼Œè€Œæ˜¯ä»¥ä¸€ä¸ª64ä½çš„éšæœºæ•°ä½œä¸ºIDæ¥æ ‡è¯†ï¼Œè€Œä¸”UDPæ˜¯æ— è¿æ¥çš„ï¼Œæ‰€ä»¥å½“IPæˆ–è€…ç«¯å£å˜åŒ–çš„æ—¶å€™ï¼Œåªè¦IDä¸å˜ï¼Œå°±ä¸éœ€è¦é‡æ–°å»ºç«‹è¿æ¥ã€‚</p>
<h3 id="-">æœºåˆ¶äºŒï¼šè‡ªå®šä¹‰é‡ä¼ æœºåˆ¶</h3>
<p>å‰é¢æˆ‘ä»¬è®²è¿‡ï¼ŒTCPä¸ºäº†ä¿è¯å¯é æ€§ï¼Œé€šè¿‡ä½¿ç”¨<strong>åºå·</strong>å’Œ<strong>åº”ç­”</strong>æœºåˆ¶ï¼Œæ¥è§£å†³é¡ºåºé—®é¢˜å’Œä¸¢åŒ…é—®é¢˜ã€‚</p>
<p>ä»»ä½•ä¸€ä¸ªåºå·çš„åŒ…å‘è¿‡å»ï¼Œéƒ½è¦åœ¨ä¸€å®šçš„æ—¶é—´å†…å¾—åˆ°åº”ç­”ï¼Œå¦åˆ™ä¸€æ—¦è¶…æ—¶ï¼Œå°±ä¼šé‡å‘è¿™ä¸ªåºå·çš„åŒ…ã€‚é‚£æ€ä¹ˆæ ·æ‰ç®—è¶…æ—¶å‘¢ï¼Ÿè¿˜è®°å¾—æˆ‘ä»¬æè¿‡çš„<strong>è‡ªé€‚åº”é‡ä¼ ç®—æ³•</strong>å—ï¼Ÿè¿™ä¸ªè¶…æ—¶æ˜¯é€šè¿‡<strong>é‡‡æ ·å¾€è¿”æ—¶é—´RTT</strong>ä¸æ–­è°ƒæ•´çš„ã€‚</p>
<p>å…¶å®ï¼Œåœ¨TCPé‡Œé¢è¶…æ—¶çš„é‡‡æ ·å­˜åœ¨ä¸å‡†ç¡®çš„é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œå‘é€ä¸€ä¸ªåŒ…ï¼Œåºå·ä¸º100ï¼Œå‘ç°æ²¡æœ‰è¿”å›ï¼Œäºæ˜¯å†å‘é€ä¸€ä¸ª100ï¼Œè¿‡ä¸€é˜µè¿”å›ä¸€ä¸ªACK101ã€‚è¿™ä¸ªæ—¶å€™å®¢æˆ·ç«¯çŸ¥é“è¿™ä¸ªåŒ…è‚¯å®šæ”¶åˆ°äº†ï¼Œä½†æ˜¯å¾€è¿”æ—¶é—´æ˜¯å¤šå°‘å‘¢ï¼Ÿæ˜¯ACKåˆ°è¾¾çš„æ—¶é—´å‡å»åä¸€ä¸ª100å‘é€çš„æ—¶é—´ï¼Œè¿˜æ˜¯å‡å»å‰ä¸€ä¸ª100å‘é€çš„æ—¶é—´å‘¢ï¼Ÿäº‹å®æ˜¯ï¼Œç¬¬ä¸€ç§ç®—æ³•æŠŠæ—¶é—´ç®—çŸ­äº†ï¼Œç¬¬äºŒç§ç®—æ³•æŠŠæ—¶é—´ç®—é•¿äº†ã€‚</p>
<p>QUICä¹Ÿæœ‰ä¸ªåºåˆ—å·ï¼Œæ˜¯é€’å¢çš„ã€‚ä»»ä½•ä¸€ä¸ªåºåˆ—å·çš„åŒ…åªå‘é€ä¸€æ¬¡ï¼Œä¸‹æ¬¡å°±è¦åŠ ä¸€äº†ã€‚ä¾‹å¦‚ï¼Œå‘é€ä¸€ä¸ªåŒ…ï¼Œåºå·æ˜¯100ï¼Œå‘ç°æ²¡æœ‰è¿”å›ï¼›å†æ¬¡å‘é€çš„æ—¶å€™ï¼Œåºå·å°±æ˜¯101äº†ï¼›å¦‚æœè¿”å›çš„ACK  100ï¼Œå°±æ˜¯å¯¹ç¬¬ä¸€ä¸ªåŒ…çš„å“åº”ã€‚å¦‚æœè¿”å›ACK  101å°±æ˜¯å¯¹ç¬¬äºŒä¸ªåŒ…çš„å“åº”ï¼ŒRTTè®¡ç®—ç›¸å¯¹å‡†ç¡®ã€‚</p>
<p>ä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æ€ä¹ˆçŸ¥é“åŒ…100å’ŒåŒ…101å‘é€çš„æ˜¯åŒæ ·çš„å†…å®¹å‘¢ï¼ŸQUICå®šä¹‰äº†ä¸€ä¸ªoffsetæ¦‚å¿µã€‚QUICæ—¢ç„¶æ˜¯é¢å‘è¿æ¥çš„ï¼Œä¹Ÿå°±åƒTCPä¸€æ ·ï¼Œæ˜¯ä¸€ä¸ªæ•°æ®æµï¼Œå‘é€çš„æ•°æ®åœ¨è¿™ä¸ªæ•°æ®æµé‡Œé¢æœ‰ä¸ªåç§»é‡offsetï¼Œå¯ä»¥é€šè¿‡offsetæŸ¥çœ‹æ•°æ®å‘é€åˆ°äº†å“ªé‡Œï¼Œè¿™æ ·åªè¦è¿™ä¸ªoffsetçš„åŒ…æ²¡æœ‰æ¥ï¼Œå°±è¦é‡å‘ï¼›å¦‚æœæ¥äº†ï¼ŒæŒ‰ç…§offsetæ‹¼æ¥ï¼Œè¿˜æ˜¯èƒ½å¤Ÿæ‹¼æˆä¸€ä¸ªæµã€‚</p>
<p><img src="https://static001.geekbang.org/resource/image/da/c4/da2af1e419db66929dc85107c7250fc4.jpg" alt="">  </p>
<h3 id="-">æœºåˆ¶ä¸‰ï¼šæ— é˜»å¡çš„å¤šè·¯å¤ç”¨</h3>
<p>æœ‰äº†è‡ªå®šä¹‰çš„è¿æ¥å’Œé‡ä¼ æœºåˆ¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥è§£å†³ä¸Šé¢HTTP  2.0çš„å¤šè·¯å¤ç”¨é—®é¢˜ã€‚</p>
<p>åŒHTTP 2.0ä¸€æ ·ï¼ŒåŒä¸€æ¡QUICè¿æ¥ä¸Šå¯ä»¥åˆ›å»ºå¤šä¸ªstreamï¼Œæ¥å‘é€å¤šä¸ª HTTP è¯·æ±‚ã€‚ä½†æ˜¯ï¼ŒQUICæ˜¯åŸºäºUDPçš„ï¼Œä¸€ä¸ªè¿æ¥ä¸Šçš„å¤šä¸ªstreamä¹‹é—´æ²¡æœ‰ä¾èµ–ã€‚è¿™æ ·ï¼Œå‡å¦‚stream2ä¸¢äº†ä¸€ä¸ªUDPåŒ…ï¼Œåé¢è·Ÿç€stream3çš„ä¸€ä¸ªUDPåŒ…ï¼Œè™½ç„¶stream2çš„é‚£ä¸ªåŒ…éœ€è¦é‡ä¼ ï¼Œä½†æ˜¯stream3çš„åŒ…æ— éœ€ç­‰å¾…ï¼Œå°±å¯ä»¥å‘ç»™ç”¨æˆ·ã€‚</p>
<h3 id="-">æœºåˆ¶å››ï¼šè‡ªå®šä¹‰æµé‡æ§åˆ¶</h3>
<p>TCPçš„æµé‡æ§åˆ¶æ˜¯é€šè¿‡<strong>æ»‘åŠ¨çª—å£åè®®</strong>ã€‚QUICçš„æµé‡æ§åˆ¶ä¹Ÿæ˜¯é€šè¿‡window_updateï¼Œæ¥å‘Šè¯‰å¯¹ç«¯å®ƒå¯ä»¥æ¥å—çš„å­—èŠ‚æ•°ã€‚ä½†æ˜¯QUICçš„çª—å£æ˜¯é€‚åº”è‡ªå·±çš„å¤šè·¯å¤ç”¨æœºåˆ¶çš„ï¼Œä¸ä½†åœ¨ä¸€ä¸ªè¿æ¥ä¸Šæ§åˆ¶çª—å£ï¼Œè¿˜åœ¨ä¸€ä¸ªè¿æ¥ä¸­çš„æ¯ä¸ªstreamæ§åˆ¶çª—å£ã€‚</p>
<p>è¿˜è®°å¾—å—ï¼Ÿåœ¨TCPåè®®ä¸­ï¼Œæ¥æ”¶ç«¯çš„çª—å£çš„èµ·å§‹ç‚¹æ˜¯ä¸‹ä¸€ä¸ªè¦æ¥æ”¶å¹¶ä¸”ACKçš„åŒ…ï¼Œå³ä¾¿åæ¥çš„åŒ…éƒ½åˆ°äº†ï¼Œæ”¾åœ¨ç¼“å­˜é‡Œé¢ï¼Œçª—å£ä¹Ÿä¸èƒ½å³ç§»ï¼Œå› ä¸ºTCPçš„ACKæœºåˆ¶æ˜¯åŸºäºåºåˆ—å·çš„ç´¯è®¡åº”ç­”ï¼Œä¸€æ—¦ACKäº†ä¸€ä¸ªç³»åˆ—å·ï¼Œå°±è¯´æ˜å‰é¢çš„éƒ½åˆ°äº†ï¼Œæ‰€ä»¥åªè¦å‰é¢çš„æ²¡åˆ°ï¼Œåé¢çš„åˆ°äº†ä¹Ÿä¸èƒ½ACKï¼Œå°±ä¼šå¯¼è‡´åé¢çš„åˆ°äº†ï¼Œä¹Ÿæœ‰å¯èƒ½è¶…æ—¶é‡ä¼ ï¼Œæµªè´¹å¸¦å®½ã€‚</p>
<p>QUICçš„ACKæ˜¯åŸºäºoffsetçš„ï¼Œæ¯ä¸ªoffsetçš„åŒ…æ¥äº†ï¼Œè¿›äº†ç¼“å­˜ï¼Œå°±å¯ä»¥åº”ç­”ï¼Œåº”ç­”åå°±ä¸ä¼šé‡å‘ï¼Œä¸­é—´çš„ç©ºæŒ¡ä¼šç­‰å¾…åˆ°æ¥æˆ–è€…é‡å‘å³å¯ï¼Œè€Œçª—å£çš„èµ·å§‹ä½ç½®ä¸ºå½“å‰æ”¶åˆ°çš„æœ€å¤§offsetï¼Œä»è¿™ä¸ªoffsetåˆ°å½“å‰çš„streamæ‰€èƒ½å®¹çº³çš„æœ€å¤§ç¼“å­˜ï¼Œæ˜¯çœŸæ­£çš„çª—å£å¤§å°ã€‚æ˜¾ç„¶ï¼Œè¿™æ ·æ›´åŠ å‡†ç¡®ã€‚</p>
<p><img src="https://static001.geekbang.org/resource/image/a6/22/a66563b46906e7708cc69a02d43afb22.jpg" alt=""></p>
<p>å¦å¤–ï¼Œè¿˜æœ‰æ•´ä¸ªè¿æ¥çš„çª—å£ï¼Œéœ€è¦å¯¹äºæ‰€æœ‰çš„streamçš„çª—å£åšä¸€ä¸ªç»Ÿè®¡ã€‚</p>
<h2 id="-">å°ç»“</h2>
<p>å¥½äº†ï¼Œä»Šå¤©å°±è®²åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹ï¼š</p>
<ul>
<li><p><span class="orange">HTTPåè®®è™½ç„¶å¾ˆå¸¸ç”¨ï¼Œä¹Ÿå¾ˆå¤æ‚ï¼Œé‡ç‚¹è®°ä½GETã€POSTã€ PUTã€DELETEè¿™å‡ ä¸ªæ–¹æ³•ï¼Œä»¥åŠé‡è¦çš„é¦–éƒ¨å­—æ®µï¼›</span></p>
</li>
<li><p><span class="orange">HTTP 2.0é€šè¿‡å¤´å‹ç¼©ã€åˆ†å¸§ã€äºŒè¿›åˆ¶ç¼–ç ã€å¤šè·¯å¤ç”¨ç­‰æŠ€æœ¯æå‡æ€§èƒ½ï¼›</span></p>
</li>
<li><p><span class="orange">QUICåè®®é€šè¿‡åŸºäºUDPè‡ªå®šä¹‰çš„ç±»ä¼¼TCPçš„è¿æ¥ã€é‡è¯•ã€å¤šè·¯å¤ç”¨ã€æµé‡æ§åˆ¶æŠ€æœ¯ï¼Œè¿›ä¸€æ­¥æå‡æ€§èƒ½ã€‚</span></p>
</li>
</ul>
<p>æ¥ä¸‹æ¥ï¼Œç»™ä½ ç•™ä¸¤ä¸ªæ€è€ƒé¢˜å§ã€‚</p>
<ol>
<li><p>QUICæ˜¯ä¸€ä¸ªç²¾å·§çš„åè®®ï¼Œæ‰€ä»¥å®ƒè‚¯å®šä¸æ­¢ä»Šå¤©æˆ‘æåˆ°çš„å››ç§æœºåˆ¶ï¼Œä½ çŸ¥é“å®ƒè¿˜æœ‰å“ªäº›å—ï¼Ÿ</p>
</li>
<li><p>è¿™ä¸€èŠ‚ä¸»è¦è®²äº†å¦‚ä½•åŸºäºHTTPæµè§ˆç½‘é¡µï¼Œå¦‚æœè¦ä¼ è¾“æ¯”è¾ƒæ•æ„Ÿçš„é“¶è¡Œå¡ä¿¡æ¯ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
</li>
</ol>
<p>æ¬¢è¿ä½ ç•™è¨€å’Œæˆ‘è®¨è®ºã€‚è¶£è°ˆç½‘ç»œåè®®ï¼Œæˆ‘ä»¬ä¸‹æœŸè§ï¼</p>
<p><img src="https://static001.geekbang.org/resource/image/b5/fb/b5bc14cb81d3630919fee94a512cc3fb.jpg" alt=""></p>

                    </div>
                </div>

            </div>
            <div data-v-87ffcada="" class="article-comments pd"><h2 data-v-87ffcada=""><span
                    data-v-87ffcada="">ç²¾é€‰ç•™è¨€</span></h2>
                <ul data-v-87ffcada="">
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/0f/7f/27/03007a5e.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">æœˆé¥¼</span>
                            </div>
                            <div class="bd">æ—¢ç„¶quicè¿™ä¹ˆç‰›é€¼äº†å¹²å˜›è¿˜è¦tcpï¼Ÿ <br></div>
                            <span class="time">2018-06-20 20:55</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/11/6e/28/4846ee93.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">é²å‹ƒ</span>
                            </div>
                            <div class="bd">æˆ‘æ˜¯åšåº•å±‚çš„ï¼Œä¼ è¾“å±‚è¿˜æ˜¯åŸºæœ¬èƒ½holdä½ï¼Œç°åœ¨æœ‰ç‚¹æ‰›ä¸ä½äº†ğŸ˜‚ <br></div>
                            <span class="time">2018-06-18 15:42</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/0f/ac/a1/43d83698.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">äº‘å­¦</span>
                            </div>
                            <div class="bd">http2.0çš„å¤šè·¯å¤ç”¨å’Œ4gåè®®çš„å¤šharqå¹¶å‘ç±»ä¼¼ï¼Œquickçš„å…³é”®æ”¹è¿›æ˜¯æŠŠAckçš„å«ä¹‰ç»™æçº¯å‡€äº†ï¼Œè¡¨è¾¾çš„å«ä¹‰æ˜¯æ”¶åˆ°äº†åŒ…ï¼Œè€Œä¸æ˜¯tcpçš„ï¼‚æœŸæœ›åŒ…ï¼‚ <br></div>
                            <span class="time">2018-06-19 12:34</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/11/53/6f/6051e0f1.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">Summer___J</span>
                            </div>
                            <div class="bd">è€å¸ˆï¼Œç›®å‰QUICåè®®çš„å…¸å‹åº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿè¿™ä¸ªåè®®å¬ä¸Šå»æ¯”TCPæ™ºèƒ½ï¼Œéšç€æŠ€æœ¯æ¼”è¿›ã€è¿™ä¸ªåè®®å·²ç»èåˆåˆ°TCPé‡Œé¢äº†è¿˜æ˜¯ä»ç„¶æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„åè®®ï¼Ÿ <br></div>
                            <span class="time">2018-06-28 08:08</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/11/60/94/602b5746.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">é›¾æ»¡æ¨æºª</span>
                            </div>
                            <div class="bd">httpå’Œsocketä¹‹é—´æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ <br></div>
                            <span class="time">2018-06-20 08:53</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/11/4a/8a/c3959939.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">makermade</span>
                            </div>
                            <div class="bd">æœåŠ¡å™¨æŸä¸ªhttpåº”ç”¨å­˜åœ¨å¤§é‡fin_wait2æ€ä¹ˆè§£å†³ <br></div>
                            <span class="time">2018-06-19 22:04</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/11/58/97/8e14e7d0.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">æ¥šäºº</span>
                            </div>
                            <div class="bd">ç¬¬13å’Œ14èŠ‚æœ‰äº›éš¾åº¦ï¼Œéœ€è¦å¤šçœ‹å¤šå¬å‡ é <br></div>
                            <span class="time">2018-06-18 09:12</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/0f/be/8c/a5a3788f.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">å¤§ç°ç‹¼</span>
                            </div>
                            <div class="bd">quicæ¨åŠ¨äº†tls1.3ï¼Œå®ç°äº†tcpçš„åºåˆ—å·ï¼Œæµæ§ï¼Œæ‹¥å¡æ§åˆ¶ï¼Œé‡ä¼ ï¼Œå®ç°äº†http2çš„å¤šè·¯å¤ç”¨ï¼Œæµæ§ç­‰<br>å‚è€ƒinfoqæ–‡ç« ã€‚<br>åœ¨å®é™…è¿›è¡Œä¸­é—´äººçš„è¿‡ç¨‹ä¸­ï¼Œquicæ˜¯ä¸€ä¸ªå¾ˆå¤´ç–¼çš„åè®®ã€‚ <br></div>
                            <span class="time">2018-09-09 23:47</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/11/47/90/6828af58.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">ç”°è±ªæ°</span>
                            </div>
                            <div class="bd">ä¸€çªä¸é€šï¼Œäº‘é‡Œé›¾é‡Œ <br></div>
                            <span class="time">2018-07-13 08:24</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/11/72/fb/7e9ccf63.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">å°è¾‰</span>
                            </div>
                            <div class="bd">è·å–MACåœ°å€æ—¶ï¼Œå±€åŸŸç½‘å†…çš„arp å¹¿æ’­è·Ÿå‘ç»™ç½‘å…³çš„arpå¹¿æ’­çš„å¹¿æ’­å†…å®¹æœ‰ä»€ä¹ˆå·®å¼‚å—ï¼Ÿ <br></div>
                            <span class="time">2018-07-04 01:17</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/0f/af/00/9b49f42b.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">skye</span>
                            </div>
                            <div class="bd">â€œä¸€å‰ä¸€åï¼Œå‰é¢ stream 2 çš„å¸§æ²¡æœ‰æ”¶åˆ°ï¼Œåé¢ stream 1 çš„å¸§ä¹Ÿä¼šå› æ­¤é˜»å¡ã€‚â€è¿™ä¸ªå’Œé˜Ÿé¦–é˜»å¡çš„åŒºåˆ«æ˜¯å•¥ï¼Œä¸å¤ªæ˜ç™½ï¼Ÿ <br></div>
                            <span class="time">2018-06-20 09:16</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">ä¸€ä¸ªæ˜¯httpå±‚çš„ï¼Œä¸€ä¸ªæ˜¯tcpå±‚çš„</p>
                                <p class="reply-time">2018-06-20 13:20</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/0f/a6/c1/d4e6147e.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">ä¸€ç®­ä¸­çš„</span>
                            </div>
                            <div class="bd">æ•æ„Ÿä¿¡æ¯å¯ä»¥ä½¿ç”¨httpsï¼Œè®°å¾—http2å¤©ç„¶å…·å¤‡httpsç‰¹æ€§ï¼Œæ‰€ä»¥httpså’Œhttp2éƒ½å¯ä»¥è§£å†³æ•æ„Ÿä¿¡æ¯é—®é¢˜ã€‚ <br></div>
                            <span class="time">2018-06-19 08:16</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/0f/c0/25/348b4d76.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">å¢¨è§</span>
                            </div>
                            <div class="bd">æ¯æ¬¡httpéƒ½è¦ç»è¿‡TCPçš„ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹å— <br></div>
                            <span class="time">2018-06-18 09:31</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">keepaliveå°±ä¸ç”¨</p>
                                <p class="reply-time">2018-06-18 14:57</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/11/a1/bb/b46e59b1.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">evilKitsch</span>
                            </div>
                            <div class="bd">æ–°äººæŠ¥é“ğŸ˜ <br></div>
                            <span class="time">2018-06-18 07:48</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/12/6f/63/8808cc00.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">æ‰¬ï½</span>
                            </div>
                            <div class="bd">æ¯å¤©ä¸¤ç¯‡ï¼Œæ¯å¤©éƒ½æœ‰é—®é¢˜è¦é—®ã€‚<br>IPå±‚å¯ä»¥é€šè¿‡å¤´éƒ¨çš„IDï¼Œé•¿åº¦å’Œåç§»é‡æ¥é‡ç»„æ•°æ®æŠ¥ï¼Œé‚£ä¹ˆTCPå¦‚ä½•æ ¹æ®å“ªäº›å­—æ®µæ¥é‡ç»„ä¸€ä¸ªåº”ç”¨æ•°æ®åŒ…ä»è€Œäº¤ç»™åº”ç”¨å±‚å‘¢ã€‚ <br></div>
                            <span class="time">2018-11-02 20:56</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/10/cf/82/a3ea8076.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">tim</span>
                            </div>
                            <div class="bd">æœ‰ä¸ªé—®é¢˜ï¼š<br>æ–‡ä¸­æŒ‡å‡ºtcpé‡‡æ ·ä¸å‡†ç¡®ã€‚ åºåˆ—å·å¯ä»¥å‘é€ä¸€è‡´çš„ã€‚<br><br>ä½†æ˜¯ä¹‹å‰è®²çš„åºåˆ—å·æ˜¯æ ¹æ®æ—¶é—´æ¥å¢é•¿çš„ï¼Œé™¤éä½ è¿‡å»éå¸¸é•¿çš„æ—¶é—´ï¼Œä¸ç„¶æ˜¯ä¸å¯èƒ½é‡å¤çš„ã€‚<br><br>è¿™ä¸ªé—®é¢˜ä¸çŸ¥æ˜¯æˆ‘ç†è§£åºåˆ—å·çš„å¢é•¿ç­–ç•¥æœ‰é—®é¢˜è¿˜æ˜¯æ–‡ä¸­ä½œè€…çš„æ¨æ–­æœ‰é—®é¢˜ğŸ¤¨ <br></div>
                            <span class="time">2018-10-30 19:34</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">æ˜¯åŒä¸€ä¸ªåºåˆ—å·å‘é€ä¸¤æ¬¡ï¼Œä¹Ÿå°±æ˜¯è¯´åŒä¸€ä¸ªåŒ…å‘é€ä¸¤æ¬¡</p>
                                <p class="reply-time">2018-11-02 10:21</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="http://thirdwx.qlogo.cn/mmopen/vi_32/3IrblACSCxr7ianvicQXRexScIaZ1zXVQYc1eLUlia6WkhPNKPzMoIJRgfVHe1BHskfTx8E9FCmicYGCeZic6HrGbRA/132" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">æˆ‘çˆ±æ¢ç´¢</span>
                            </div>
                            <div class="bd">quic tcp_bbrè¯¦è§£å¢åŠ ä¸ªè¡¥å…… <br></div>
                            <span class="time">2018-10-14 23:21</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/10/cb/f8/f4adadcb.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">é™ˆå¤©å¢ƒ</span>
                            </div>
                            <div class="bd">åˆ˜è¶…ï¼Œä½ å¥½ï¼Œæˆ‘ä»¬æœ€è¿‘è¸©åˆ°ä¸€ä¸ªTomcat8.5çš„å‘ï¼Œå°±æ˜¯HTTPå“åº”æœ¬æ¥åº”è¯¥æ˜¯<br>HTTP&#47;1.1 200 OK<br>ä½†æ˜¯Tomcat8.5 é»˜è®¤åªä¼šè¿”å›<br>HTTP&#47;1.1 200<br>ä¹Ÿæ˜¯å°±æ˜¯OKæ²¡æ‰äº†ï¼Œå¥½å¥‡å‚è€ƒäº†HTTPåè®®çš„rfcæ–‡æ¡£ï¼ŒæŒ‰ç…§å®˜æ–¹æè¿°ï¼Œæ˜¯è¡¨ç¤ºOKå…¶å®ä¸æ˜¯å¿…é¡»çš„æ„æ€å—ï¼Ÿ<br>https:&#47;&#47;tools.ietf.org&#47;html&#47;rfc7230#section-3.1.2<br>The first line of a response message is the status-line, consisting<br>   of the protocol version, a space (SP), the status code, another<br>   space, a possibly empty textual phrase describing the status code,<br>   and ending with CRLF. <br></div>
                            <span class="time">2018-09-22 15:44</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/0f/dc/68/006ba72c.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">twelve</span>
                            </div>
                            <div class="bd">QUICè¯´æ˜¯åŸºäºUDPï¼Œæ— è¿æ¥çš„ï¼Œä½†æ˜¯è€å¸ˆåˆè¯´åˆ°æ˜¯é¢å‘è¿æ¥çš„ï¼Œçœ‹çš„æ™•ä¹ä¹çš„ã€‚ã€‚ <br></div>
                            <span class="time">2018-09-17 10:25</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">è®²tcpçš„æ—¶å€™è®²äº†ï¼Œæ‰€è°“çš„è¿æ¥å…¶å®æ˜¯ä¸¤è¾¹çš„çŠ¶æ€ï¼ŒçŠ¶æ€å¦‚æœä¸åœ¨udpå±‚ç»´æŠ¤ï¼Œå°±å¯ä»¥åœ¨åº”ç”¨å±‚ç»´æŠ¤</p>
                                <p class="reply-time">2018-09-17 14:16</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/10/5b/66/ad35bc68.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">å…š</span>
                            </div>
                            <div class="bd">åªå¯æƒœquicæ²¡æœ‰æ™®åŠå‘¢ http2.0ä¹Ÿæ²¡æœ‰æ™®åŠå‘¢ ä½œä¸ºäº†webå¼€å‘è€… è¿™èŠ‚çœ‹çš„æ²¡å•¥éš¾åº¦ <br></div>
                            <span class="time">2018-09-14 08:13</span>
                            
                        </div>
                    </li>
                    


                </ul>
            </div>
        </div>
    </div>
</div>
</body>
</html>